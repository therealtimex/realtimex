import{R as x,r as o,g as q,j as e,w as F,h as Z,H as K,n as D,S as k,s as S,J as U,O as _,i as V,G as H}from"../index.js";import{S as Q}from"./index-af9073a4.js";import{D as R}from"./CaretUpDown-676a7767.js";import{C as B}from"./index-07eec889.js";import{P as T,C as G}from"./index-50a3806c.js";import{h as X}from"./numbers-3998afe1.js";import{t as J}from"./index-b542d8eb.js";import"./Globe-1f44e45d.js";import"./index-0f62630d.js";import"./CaretRight-731d83f5.js";const W=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M176,128a12,12,0,0,1-5.17,9.87l-52,36A12,12,0,0,1,100,164V92a12,12,0,0,1,18.83-9.87l52,36A12,12,0,0,1,176,128Zm60,0A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32ZM108,168V88l64,40Z",opacity:"0.2"}),x.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48.24-94.78-64-40A8,8,0,0,0,100,88v80a8,8,0,0,0,12.24,6.78l64-40a8,8,0,0,0,0-13.56ZM116,153.57V102.43L156.91,128Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm40.55,110.58-52,36A8,8,0,0,1,104,164V92a8,8,0,0,1,12.55-6.58l52,36a8,8,0,0,1,0,13.16Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm47.18-95.09-64-40A6,6,0,0,0,102,88v80a6,6,0,0,0,9.18,5.09l64-40a6,6,0,0,0,0-10.18ZM114,157.17V98.83L160.68,128Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48.24-94.78-64-40A8,8,0,0,0,100,88v80a8,8,0,0,0,12.24,6.78l64-40a8,8,0,0,0,0-13.56ZM116,153.57V102.43L156.91,128Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm46.12-95.39-64-40A4,4,0,0,0,104,88v80a4,4,0,0,0,2.06,3.5,4.06,4.06,0,0,0,1.94.5,4,4,0,0,0,2.12-.61l64-40a4,4,0,0,0,0-6.78ZM112,160.78V95.22L164.45,128Z"}))]]);var Y=Object.defineProperty,ee=Object.defineProperties,te=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,z=(t,l,a)=>l in t?Y(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,ae=(t,l)=>{for(var a in l||(l={}))le.call(l,a)&&z(t,a,l[a]);if(I)for(var a of I(l))se.call(l,a)&&z(t,a,l[a]);return t},oe=(t,l)=>ee(t,te(l));const $=o.forwardRef((t,l)=>x.createElement(q,oe(ae({ref:l},t),{weights:W})));$.displayName="PlayCircle";function re(){return e.jsx("div",{className:"w-full h-10 items-center flex",children:e.jsx("p",{className:"text-sm font-base text-white text-opacity-60",children:"There is no configuration needed for this provider."})})}const O=[{name:"System native",value:"native",logo:D,options:t=>e.jsx(re,{settings:t}),description:"Uses your browser's built in STT service if supported."}];function ne({settings:t}){var g;const[l,a]=o.useState(!1),[r,n]=o.useState(!1),[i,u]=o.useState(""),[m,c]=o.useState([]),[d,p]=o.useState((t==null?void 0:t.SpeechToTextProvider)||"native"),[f,h]=o.useState(!1),b=o.useRef(null),N=async s=>{s.preventDefault();const y=s.target,j={SpeechToTextProvider:d},P=new FormData(y);for(var[L,M]of P.entries())j[L]=M;const{error:w}=await k.updateSystem(j);a(!0),w?S(`Failed to save preferences: ${w}`,"error"):S("Speech-to-text preferences saved successfully.","success"),a(!1),n(!!w)},C=s=>{u(""),p(s),h(!1),n(!0)},A=()=>{i.length>0?(u(""),b.current&&(b.current.value="")):h(!f)};o.useEffect(()=>{const s=O.filter(y=>y.name.toLowerCase().includes(i.toLowerCase()));c(s)},[i,d]);const v=O.find(s=>s.value===d);return e.jsx("form",{onSubmit:N,className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col w-full px-1 md:pl-6 md:pr-[50px] md:py-6 py-16",children:[e.jsxs("div",{className:"w-full flex flex-col gap-y-1 pb-6 border-white light:border-theme-sidebar-border border-b-2 border-opacity-10",children:[e.jsx("div",{className:"flex gap-x-4 items-center",children:e.jsx("p",{className:"text-lg leading-6 font-bold text-white",children:"Speech-to-text Preference"})}),e.jsx("p",{className:"text-xs leading-[18px] font-base text-white text-opacity-60",children:"Here you can specify what kind of text-to-speech and speech-to-text providers you would want to use in your AnythingLLM experience. By default, we use the browser's built in support for these services, but you may want to use others."})]}),e.jsx("div",{className:"w-full justify-end flex",children:r&&e.jsx(B,{onClick:()=>N(),className:"mt-3 mr-0 -mb-14 z-10",children:l?"Saving...":"Save changes"})}),e.jsx("div",{className:"text-base font-bold text-white mt-6 mb-4",children:"Provider"}),e.jsxs("div",{className:"relative",children:[f&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 backdrop-blur-sm z-10",onClick:()=>h(!1)}),f?e.jsx("div",{className:"absolute top-0 left-0 w-full max-w-[640px] max-h-[310px] overflow-auto white-scrollbar min-h-[64px] bg-theme-settings-input-bg rounded-lg flex flex-col justify-between cursor-pointer border-2 border-primary-button z-20",children:e.jsxs("div",{className:"w-full flex flex-col gap-y-1",children:[e.jsxs("div",{className:"flex items-center sticky top-0 border-b border-[#9CA3AF] mx-4 bg-theme-settings-input-bg",children:[e.jsx(F,{size:20,weight:"bold",className:"absolute left-4 z-30 text-theme-text-primary -ml-4 my-2"}),e.jsx("input",{type:"text",name:"stt-provider-search",autoComplete:"off",placeholder:"Search speech to text providers",className:"border-none -ml-4 my-2 bg-transparent z-20 pl-12 h-[38px] w-full px-4 py-1 text-sm outline-none text-theme-text-primary placeholder:text-theme-text-primary placeholder:font-medium",onChange:s=>u(s.target.value),ref:b,onKeyDown:s=>{s.key==="Enter"&&s.preventDefault()}}),e.jsx(Z,{size:20,weight:"bold",className:"cursor-pointer text-white hover:text-x-button",onClick:A})]}),e.jsx("div",{className:"flex-1 pl-4 pr-2 flex flex-col gap-y-1 overflow-y-auto white-scrollbar pb-4",children:m.map(s=>e.jsx(K,{name:s.name,value:s.value,image:s.logo,description:s.description,checked:d===s.value,onClick:()=>C(s.value)},s.name))})]})}):e.jsxs("button",{className:"w-full max-w-[640px] h-[64px] bg-theme-settings-input-bg rounded-lg flex items-center p-[14px] justify-between cursor-pointer border-2 border-transparent hover:border-primary-button transition-all duration-300",type:"button",onClick:()=>h(!0),children:[e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:v.logo,alt:`${v.name} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:v.name}),e.jsx("div",{className:"mt-1 text-xs text-description",children:v.description})]})]}),e.jsx(R,{size:24,weight:"bold",className:"text-white"})]})]}),e.jsx("div",{onChange:()=>n(!0),className:"mt-4 flex flex-col gap-y-1",children:d&&((g=O.find(s=>s.value===d))==null?void 0:g.options(t))})]})})}const ie="/elevenlabs.png",ce="/piper.png",de="/generic-openai.png";function ue(){return e.jsx("div",{className:"w-full h-10 items-center flex",children:e.jsx("p",{className:"text-sm font-base text-white text-opacity-60",children:"There is no configuration needed for this provider."})})}function me(t){return t.replace(/\w\S*/g,function(l){return l.charAt(0).toUpperCase()+l.substr(1).toLowerCase()})}function xe({settings:t}){var a;const l=t==null?void 0:t.TTSOpenAIKey;return e.jsxs("div",{className:"flex gap-x-4",children:[e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"API Key"}),e.jsx("input",{type:"password",name:"TTSOpenAIKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"OpenAI API Key",defaultValue:l?"*".repeat(20):"",required:!0,autoComplete:"off",spellCheck:!1})]}),e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Voice Model"}),e.jsx("select",{name:"TTSOpenAIVoiceModel",defaultValue:(a=t==null?void 0:t.TTSOpenAIVoiceModel)!=null?a:"alloy",className:"border-none bg-theme-settings-input-bg border-gray-500 text-white text-sm rounded-lg block w-full p-2.5",children:["alloy","echo","fable","onyx","nova","shimmer"].map(r=>e.jsx("option",{value:r,children:me(r)},r))})]})]})}function pe({settings:t}){const[l,a]=o.useState(t==null?void 0:t.TTSElevenLabsKey),[r,n]=o.useState(t==null?void 0:t.TTSElevenLabsKey);return e.jsxs("div",{className:"flex gap-x-4",children:[e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"API Key"}),e.jsx("input",{type:"password",name:"TTSElevenLabsKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"ElevenLabs API Key",defaultValue:t!=null&&t.TTSElevenLabsKey?"*".repeat(20):"",required:!0,autoComplete:"off",spellCheck:!1,onChange:i=>a(i.target.value),onBlur:()=>n(l)})]}),!(t!=null&&t.credentialsOnly)&&e.jsx(he,{settings:t,apiKey:r})]})}function he({apiKey:t,settings:l}){const[a,r]=o.useState({}),[n,i]=o.useState(!0);return o.useEffect(()=>{async function u(){i(!0);const{models:m}=await k.customModels("elevenlabs-tts",typeof t=="boolean"?null:t);if((m==null?void 0:m.length)>0){const c=m.reduce((d,p)=>(d[p.organization]=d[p.organization]||[],d[p.organization].push(p),d),{});r(c)}i(!1)}u()},[t]),n?e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Chat Model Selection"}),e.jsx("select",{name:"TTSElevenLabsVoiceModel",disabled:!0,className:"border-none bg-theme-settings-input-bg border-gray-500 text-white text-sm rounded-lg block w-full p-2.5",children:e.jsx("option",{disabled:!0,selected:!0,children:"-- loading available models --"})})]}):e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Chat Model Selection"}),e.jsx("select",{name:"TTSElevenLabsVoiceModel",required:!0,className:"border-none bg-theme-settings-input-bg border-gray-500 text-white text-sm rounded-lg block w-full p-2.5",children:Object.keys(a).sort().map(u=>e.jsx("optgroup",{label:u,children:a[u].map(m=>e.jsx("option",{value:m.id,selected:m.id===(l==null?void 0:l.TTSElevenLabsVoiceModel),children:m.name},m.id))},u))})]})}function fe({settings:t}){return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-base text-white text-opacity-60 mb-4",children:"All PiperTTS models will run in your browser locally. This can be resource intensive on lower-end devices."}),e.jsx("div",{className:"flex gap-x-4 items-center",children:e.jsx(ye,{settings:t})})]})}function be(t=[]){const l=t.reduce((a,r)=>{var i,u;const n=(u=(i=r==null?void 0:r.language)==null?void 0:i.name_english)!=null?u:"Unlisted";return a[n]=a[n]||[],a[n].push(r),a},{});return Object.entries(l)}function ve(t){var m;const{is_stored:l,name:a,quality:r,files:n}=t,i=Object.keys(n).find(c=>c.endsWith(".onnx")),u=((m=n==null?void 0:n[i])==null?void 0:m.size_bytes)||0;return`${l?"✔ ":""}${J(a)}-${r==="low"?"Low":"HQ"} (${X(u)})`}function ye({settings:t}){const[l,a]=o.useState(!0),[r,n]=o.useState([]),[i,u]=o.useState(t==null?void 0:t.TTSPiperTTSVoiceModel);function m(){T.flush().then(()=>S("All voices flushed from browser storage","info",{clear:!0})).catch(c=>console.error(c))}return o.useEffect(()=>{T.voices().then(c=>{if((c==null?void 0:c.length)!==0)return n(c);throw new Error("Could not fetch voices from web worker.")}).catch(c=>{console.error(c)}).finally(()=>a(!1))},[]),l?e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Voice Model Selection"}),e.jsx("select",{name:"TTSPiperTTSVoiceModel",value:"",disabled:!0,className:"border-none bg-theme-settings-input-bg border-gray-500 text-white text-sm rounded-lg block w-full p-2.5",children:e.jsx("option",{value:"",disabled:!0,children:"-- loading available models --"})})]}):e.jsxs("div",{className:"flex flex-col w-fit",children:[e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Voice Model Selection"}),e.jsxs("div",{className:"flex items-center w-fit gap-x-4 mb-2",children:[e.jsx("select",{name:"TTSPiperTTSVoiceModel",required:!0,onChange:c=>u(c.target.value),value:i,className:"border-none flex-shrink-0 bg-theme-settings-input-bg border-gray-500 text-white text-sm rounded-lg block w-full p-2.5",children:be(r).map(([c,d])=>e.jsx("optgroup",{label:c,children:d.map(p=>e.jsx("option",{value:p.key,children:ve(p)},p.key))},c))}),e.jsx(we,{voiceId:i})]}),e.jsx("p",{className:"text-xs text-white/40",children:'The "✔" indicates this model is already stored locally and does not need to be downloaded when run.'})]}),!!r.find(c=>c.is_stored)&&e.jsx("button",{type:"button",onClick:m,className:"w-fit border-none hover:text-white hover:underline text-white/40 text-sm my-4",children:"Flush voice cache"})]})}function we({voiceId:t}){const l=o.useRef(null),[a,r]=o.useState(!1),[n,i]=o.useState(!1),[u,m]=o.useState(null);async function c(d){var p,f;if(d.preventDefault(),a){(p=l==null?void 0:l.current)==null||p.pause();return}try{if(u)l.current.play();else{i(!0);const h=new T({voiceId:t}),b=await h.getAudioBlobForText("Hello, welcome to AnythingLLM!");m(b),i(!1),(f=h.worker)==null||f.terminate(),T._instance=null}}catch(h){console.error(h),i(!1),r(!1)}}return o.useEffect(()=>{function d(){l!=null&&l.current&&(l.current.addEventListener("play",()=>{r(!0)}),l.current.addEventListener("pause",()=>{l.current.currentTime=0,r(!1),m(null)}))}d()},[]),e.jsxs("button",{type:"button",onClick:c,disabled:n,className:"border-none text-zinc-300 flex items-center gap-x-1",children:[a?e.jsxs(e.Fragment,{children:[e.jsx(G,{size:20,className:"flex-shrink-0"}),e.jsx("p",{className:"text-sm flex-shrink-0",children:"Stop demo"})]}):e.jsx(e.Fragment,{children:n?e.jsxs(e.Fragment,{children:[e.jsx(U,{size:20,className:"animate-spin flex-shrink-0"}),e.jsx("p",{className:"text-sm flex-shrink-0",children:"Loading voice"})]}):e.jsxs(e.Fragment,{children:[e.jsx($,{size:20,className:"flex-shrink-0 text-white"}),e.jsx("p",{className:"text-white text-sm flex-shrink-0",children:"Play sample"})]})}),e.jsx("audio",{ref:l,hidden:!0,src:u,autoPlay:!0,controls:!1})]})}function ge({settings:t}){return e.jsx("div",{className:"w-full flex flex-col gap-y-7",children:e.jsxs("div",{className:"flex gap-x-4",children:[e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsx("label",{className:"text-white text-sm font-semibold",children:"Base URL"})}),e.jsx("input",{type:"url",name:"TTSOpenAICompatibleEndpoint",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"http://localhost:7851/v1",defaultValue:t==null?void 0:t.TTSOpenAICompatibleEndpoint,required:!1,autoComplete:"off",spellCheck:!1}),e.jsx("p",{className:"text-xs leading-[18px] font-base text-white text-opacity-60 mt-2",children:"This should be the base URL of the OpenAI compatible TTS service you will generate TTS responses from."})]}),e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"API Key"}),e.jsx("input",{type:"password",name:"TTSOpenAICompatibleKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"API Key",defaultValue:t!=null&&t.TTSOpenAICompatibleKey?"*".repeat(20):"",autoComplete:"off",spellCheck:!1}),e.jsx("p",{className:"text-xs leading-[18px] font-base text-white text-opacity-60 mt-2",children:"Some TTS services require an API key to generate TTS responses - this is optional if your service does not require one."})]}),e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Voice Model"}),e.jsx("input",{type:"text",name:"TTSOpenAICompatibleVoiceModel",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"Your voice model identifier",defaultValue:t==null?void 0:t.TTSOpenAICompatibleVoiceModel,required:!0,autoComplete:"off",spellCheck:!1}),e.jsx("p",{className:"text-xs leading-[18px] font-base text-white text-opacity-60 mt-2",children:"Most TTS services will have several voice models available, this is the identifier for the voice model you want to use."})]})]})})}const E=[{name:"System native",value:"native",logo:D,options:t=>e.jsx(ue,{settings:t}),description:"Uses your browser's built in TTS service if supported."},{name:"OpenAI",value:"openai",logo:_,options:t=>e.jsx(xe,{settings:t}),description:"Use OpenAI's text to speech voices."},{name:"ElevenLabs",value:"elevenlabs",logo:ie,options:t=>e.jsx(pe,{settings:t}),description:"Use ElevenLabs's text to speech voices and technology."},{name:"PiperTTS",value:"piper_local",logo:ce,options:t=>e.jsx(fe,{settings:t}),description:"Run TTS models locally in your browser privately."},{name:"OpenAI Compatible",value:"generic-openai",logo:de,options:t=>e.jsx(ge,{settings:t}),description:"Connect to an OpenAI compatible TTS service running locally or remotely."}];function je({settings:t}){var g;const[l,a]=o.useState(!1),[r,n]=o.useState(!1),[i,u]=o.useState(""),[m,c]=o.useState([]),[d,p]=o.useState((t==null?void 0:t.TextToSpeechProvider)||"native"),[f,h]=o.useState(!1),b=o.useRef(null),N=async s=>{s==null||s.preventDefault();const y=s.target,j={TextToSpeechProvider:d},P=new FormData(y);for(var[L,M]of P.entries())j[L]=M;const{error:w}=await k.updateSystem(j);a(!0),w?S(`Failed to save preferences: ${w}`,"error"):S("Text-to-speech preferences saved successfully.","success"),a(!1),n(!!w)},C=s=>{u(""),p(s),h(!1),n(!0)},A=()=>{i.length>0?(u(""),b.current&&(b.current.value="")):h(!f)};o.useEffect(()=>{const s=E.filter(y=>y.name.toLowerCase().includes(i.toLowerCase()));c(s)},[i,d]);const v=E.find(s=>s.value===d);return e.jsx("form",{onSubmit:N,className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col w-full px-1 md:pl-6 md:pr-[50px] md:py-6 py-16",children:[e.jsxs("div",{className:"w-full flex flex-col gap-y-1 pb-6 border-white light:border-theme-sidebar-border border-b-2 border-opacity-10",children:[e.jsx("div",{className:"flex gap-x-4 items-center",children:e.jsx("p",{className:"text-lg leading-6 font-bold text-white",children:"Text-to-speech Preference"})}),e.jsx("p",{className:"text-xs leading-[18px] font-base text-white text-opacity-60",children:"Here you can specify what kind of text-to-speech providers you would want to use in your AnythingLLM experience. By default, we use the browser's built in support for these services, but you may want to use others."})]}),e.jsx("div",{className:"w-full justify-end flex",children:r&&e.jsx(B,{className:"mt-3 mr-0 -mb-14 z-10",children:l?"Saving...":"Save changes"})}),e.jsx("div",{className:"text-base font-bold text-white mt-6 mb-4",children:"Provider"}),e.jsxs("div",{className:"relative",children:[f&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 backdrop-blur-sm z-10",onClick:()=>h(!1)}),f?e.jsx("div",{className:"absolute top-0 left-0 w-full max-w-[640px] max-h-[310px] overflow-auto white-scrollbar min-h-[64px] bg-theme-settings-input-bg rounded-lg flex flex-col justify-between cursor-pointer border-2 border-primary-button z-20",children:e.jsxs("div",{className:"w-full flex flex-col gap-y-1",children:[e.jsxs("div",{className:"flex items-center sticky top-0 border-b border-[#9CA3AF] mx-4 bg-theme-settings-input-bg",children:[e.jsx(F,{size:20,weight:"bold",className:"absolute left-4 z-30 text-theme-text-primary -ml-4 my-2"}),e.jsx("input",{type:"text",name:"tts-provider-search",autoComplete:"off",placeholder:"Search text to speech providers",className:"border-none -ml-4 my-2 bg-transparent z-20 pl-12 h-[38px] w-full px-4 py-1 text-sm outline-none text-theme-text-primary placeholder:text-theme-text-primary placeholder:font-medium",onChange:s=>u(s.target.value),ref:b,onKeyDown:s=>{s.key==="Enter"&&s.preventDefault()}}),e.jsx(Z,{size:20,weight:"bold",className:"cursor-pointer text-white hover:text-x-button",onClick:A})]}),e.jsx("div",{className:"flex-1 pl-4 pr-2 flex flex-col gap-y-1 overflow-y-auto white-scrollbar pb-4",children:m.map(s=>e.jsx(K,{name:s.name,value:s.value,image:s.logo,description:s.description,checked:d===s.value,onClick:()=>C(s.value)},s.name))})]})}):e.jsxs("button",{className:"w-full max-w-[640px] h-[64px] bg-theme-settings-input-bg rounded-lg flex items-center p-[14px] justify-between cursor-pointer border-2 border-transparent hover:border-primary-button transition-all duration-300",type:"button",onClick:()=>h(!0),children:[e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:v.logo,alt:`${v.name} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:v.name}),e.jsx("div",{className:"mt-1 text-xs text-description",children:v.description})]})]}),e.jsx(R,{size:24,weight:"bold",className:"text-white"})]})]}),e.jsx("div",{onChange:()=>n(!0),className:"mt-4 flex flex-col gap-y-1",children:d&&((g=E.find(s=>s.value===d))==null?void 0:g.options(t))})]})})}function Ee(){const[t,l]=o.useState(null),[a,r]=o.useState(!0);return o.useEffect(()=>{async function n(){const i=await k.keys();l(i),r(!1)}n()},[]),e.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-theme-bg-container flex",children:[e.jsx(Q,{}),a?e.jsx("div",{style:{height:V?"100%":"calc(100% - 32px)"},className:"relative md:ml-[2px] md:mr-[16px] md:my-[16px] md:rounded-[16px] bg-theme-bg-secondary w-full h-full overflow-y-scroll p-4 md:p-0",children:e.jsx("div",{className:"w-full h-full flex justify-center items-center",children:e.jsx(H,{})})}):e.jsxs("div",{style:{height:V?"100%":"calc(100% - 32px)"},className:"relative md:ml-[2px] md:mr-[16px] md:my-[16px] md:rounded-[16px] bg-theme-bg-secondary w-full h-full overflow-y-scroll p-4 md:p-0",children:[e.jsx(ne,{settings:t}),e.jsx(je,{settings:t})]})]})}export{Ee as default};
