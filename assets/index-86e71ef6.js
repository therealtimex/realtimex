import{r as o,j as e,a$ as g,L as j,p as b,S as y,s as x,i as u,F as v,M as w}from"../index.js";import{F as m,S as N}from"./index-af9073a4.js";import{A as f}from"./admin-40631925.js";import{l as F}from"./CaretRight-731d83f5.js";import"./Globe-1f44e45d.js";import"./index-0f62630d.js";function S({enabled:t=!1,onToggle:l}){const[s,n]=o.useState(t);async function a(){if(!await y.experimentalFeatures.liveSync.toggleFeature(!s))return x("Failed to update status of feature.","error",{clear:!0}),!1;n(!s),x(`Live document content sync has been ${s?"disabled":"enabled"}.`,"success",{clear:!0}),l()}return e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col gap-y-6 max-w-[500px]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-theme-text-primary text-md font-bold",children:"Automatic Document Content Sync"}),e.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",onClick:a,checked:s,className:"peer sr-only pointer-events-none"}),e.jsx("div",{className:"peer-disabled:opacity-50 pointer-events-none peer h-6 w-11 rounded-full bg-[#CFCFD0] after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:shadow-xl after:border-none after:bg-white after:box-shadow-md after:transition-all after:content-[''] peer-checked:bg-[#32D583] peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-transparent"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("p",{className:"text-theme-text-secondary text-sm",children:`Enable the ability to specify a document to be "watched". Watched document's content will be regularly fetched and updated in AnythingLLM.`}),e.jsx("p",{className:"text-theme-text-secondary text-sm",children:"Watched documents will automatically update in all workspaces they are referenced in at the same time of update."}),e.jsx("p",{className:"text-theme-text-secondary text-xs italic",children:"This feature only applies to web-based content, such as websites, Confluence, YouTube, and GitHub files."})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs("a",{href:"https://docs.anythingllm.com/beta-preview/active-features/live-document-sync",target:"_blank",className:"text-sm text-blue-400 light:text-blue-500 hover:underline flex items-center gap-x-1",children:[e.jsx(g,{size:14}),e.jsx("span",{children:"Feature Documentation and Warnings"})]})}),e.jsx("li",{children:e.jsx(j,{to:b.experimental.liveDocumentSync.manage(),className:"text-sm text-blue-400 light:text-blue-500 hover:underline",children:"Manage Watched Documents â†’"})})]})})]})}const p={experimental_live_file_sync:{title:"Live Document Sync",component:S,key:"experimental_live_file_sync"}};function C(){const[t,l]=o.useState({}),[s,n]=o.useState(!0),[a,c]=o.useState("experimental_live_file_sync");o.useEffect(()=>{async function r(){var h;n(!0);const{settings:i}=await f.systemPreferences();l((h=i==null?void 0:i.feature_flags)!=null?h:{}),n(!1)}r()},[]);const d=async()=>{var i;const{settings:r}=await f.systemPreferences();l((i=r==null?void 0:r.feature_flags)!=null?i:{})};return s?e.jsx("div",{style:{height:u?"100%":"calc(100% - 32px)"},className:"relative md:ml-[2px] md:mr-[16px] md:my-[16px] md:rounded-[16px] w-full h-full flex justify-center items-center",children:e.jsx(v,{})}):e.jsx(_,{children:e.jsxs("div",{className:"flex-1 flex gap-x-6 p-4 mt-10",children:[e.jsxs("div",{className:"flex flex-col gap-y-[18px]",children:[e.jsxs("div",{className:"text-white flex items-center gap-x-2",children:[e.jsx(m,{size:24}),e.jsx("p",{className:"text-lg font-medium",children:"Experimental Features"})]}),e.jsx(L,{features:p,selectedFeature:a,handleClick:c,activeFeatures:Object.keys(t).filter(r=>t[r])})]}),e.jsx(T,{children:e.jsx("div",{className:"flex-[2] flex flex-col gap-y-[18px] mt-10",children:e.jsx("div",{className:"bg-theme-bg-secondary text-white rounded-xl flex-1 p-4",children:a?e.jsx(k,{feature:p[a],settings:t,refresh:d}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/60",children:[e.jsx(m,{size:40}),e.jsx("p",{className:"font-medium",children:"Select an experimental feature"})]})})})})]})})}function _({children:t}){return e.jsxs("div",{id:"workspace-feature-settings-container",className:"w-screen h-screen overflow-hidden bg-theme-bg-container flex md:mt-0 mt-6",children:[e.jsx(N,{}),e.jsx("div",{style:{height:u?"100%":"calc(100% - 32px)"},className:"relative md:ml-[2px] md:mr-[16px] md:my-[16px] md:rounded-[16px] w-full h-full flex",children:t})]})}function L({features:t=[],selectedFeature:l=null,handleClick:s=null,activeFeatures:n=[]}){return Object.keys(t).length===0?null:e.jsx("div",{className:`bg-theme-bg-secondary text-white rounded-xl ${u?"w-full":"min-w-[360px] w-fit"}`,children:Object.entries(t).map(([a,c],d)=>e.jsxs("div",{className:`py-3 px-4 flex items-center justify-between ${d===0?"rounded-t-xl":""} ${d===Object.keys(t).length-1?"rounded-b-xl":"border-b border-white/10"} cursor-pointer transition-all duration-300 hover:bg-white/5 ${l===a?"bg-white/10 light:bg-theme-bg-sidebar  ":""}`,onClick:()=>s==null?void 0:s(a),children:[e.jsx("div",{className:"text-sm font-light",children:c.title}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"text-sm text-theme-text-secondary font-medium",children:n.includes(c.key)?"On":"Off"}),e.jsx(F,{size:14,weight:"bold",className:"text-theme-text-secondary"})]})]},a))})}function k({feature:t,settings:l,refresh:s}){const n=t==null?void 0:t.component;return n?e.jsx(n,{enabled:l[t.key],feature:t.key,onToggle:s}):null}function T({children:t}){if(!window.localStorage.getItem("anythingllm_tos_experimental_feature_set")){let l=function(s){s.preventDefault(),window.localStorage.setItem("anythingllm_tos_experimental_feature_set","accepted"),x("Experimental Feature set enabled. Reloading the page.","success"),setTimeout(()=>{window.location.reload()},2500)};return e.jsxs(e.Fragment,{children:[e.jsx(w,{isOpen:!0,children:e.jsxs("div",{className:"w-full max-w-2xl bg-theme-bg-secondary rounded-lg shadow border-2 border-theme-modal-border overflow-hidden",children:[e.jsx("div",{className:"relative p-6 border-b rounded-t border-theme-modal-border",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{size:24,className:"text-theme-text-primary"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Terms of use for experimental features"})]})}),e.jsxs("form",{onSubmit:l,children:[e.jsx("div",{className:"py-7 px-9 space-y-4 flex-col",children:e.jsxs("div",{className:"w-full text-white text-md flex flex-col gap-y-4",children:[e.jsxs("p",{children:["Experimental features of AnythingLLM are features that we are piloting and are ",e.jsx("b",{children:"opt-in"}),". We proactively will condition or warn you on any potential concerns should any exist prior to approval of any feature."]}),e.jsxs("div",{children:[e.jsx("p",{children:"Use of any feature on this page can result in, but not limited to, the following possibilities."}),e.jsxs("ul",{className:"list-disc ml-6 text-sm font-mono mt-2",children:[e.jsx("li",{children:"Loss of data."}),e.jsx("li",{children:"Change in quality of results."}),e.jsx("li",{children:"Increased storage."}),e.jsx("li",{children:"Increased resource consumption."}),e.jsx("li",{children:"Increased cost or use of any connected LLM or embedding provider."}),e.jsx("li",{children:"Potential bugs or issues using AnythingLLM."})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Use of an experimental feature also comes with the following list of non-exhaustive conditions."}),e.jsxs("ul",{className:"list-disc ml-6 text-sm font-mono mt-2",children:[e.jsx("li",{children:"Feature may not exist in future updates."}),e.jsx("li",{children:"The feature being used is not currently stable."}),e.jsx("li",{children:"The feature may not be available in future versions, configurations, or subscriptions of AnythingLLM."}),e.jsxs("li",{children:["Your privacy settings ",e.jsx("b",{children:"will be honored"})," with use of any beta feature."]}),e.jsx("li",{children:"These conditions may change in future updates."})]})]}),e.jsxs("p",{children:["Access to any features requires approval of this modal. If you would like to read more you can refer to"," ",e.jsx("a",{href:"https://docs.anythingllm.com/beta-preview/overview",className:"underline text-blue-500",children:"docs.anythingllm.com"})," ","or email"," ",e.jsx("a",{href:"mailto:team@mintplexlabs.com",className:"underline text-blue-500",children:"team@mintplexlabs.com"})]})]})}),e.jsxs("div",{className:"flex w-full justify-between items-center p-6 space-x-2 border-t border-theme-modal-border rounded-b",children:[e.jsx("a",{href:b.home(),className:"px-4 py-2 rounded-lg text-theme-text-primary hover:bg-red-500/50 light:hover:bg-red-300/50 transition-all duration-300",children:"Reject & close"}),e.jsx("button",{type:"submit",className:"transition-all duration-300 text-theme-text-primary hover:bg-blue-300/50 light:hover:bg-blue-300 px-4 py-2 rounded-lg text-sm",children:"I understand"})]})]})]})}),t]})}return e.jsx(e.Fragment,{children:t})}export{C as default};
