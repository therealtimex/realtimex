var f=Object.defineProperty;var w=(r,e,t)=>e in r?f(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var m=(r,e,t)=>(w(r,typeof e!="symbol"?e+"":e,t),t),v=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var u=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)};var d=(r,e,t)=>(v(r,e,"access private method"),t);import{R as a,r as y,g as k,s as E}from"../index.js";const Z=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM116,96v64a12,12,0,0,1-24,0V96a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V96a12,12,0,0,1,24,0Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM112,96v64a8,8,0,0,1-16,0V96a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V96a8,8,0,0,1,16,0Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.13,104.13,0,0,0,128,24ZM112,160a8,8,0,0,1-16,0V96a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V96a8,8,0,0,1,16,0Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM110,96v64a6,6,0,0,1-12,0V96a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V96a6,6,0,0,1,12,0Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM112,96v64a8,8,0,0,1-16,0V96a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V96a8,8,0,0,1,16,0Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM108,96v64a4,4,0,0,1-8,0V96a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V96a4,4,0,0,1,8,0Z"}))]]);var M=Object.defineProperty,T=Object.defineProperties,L=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,g=(r,e,t)=>e in r?M(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,A=(r,e)=>{for(var t in e||(e={}))W.call(e,t)&&g(r,t,e[t]);if(p)for(var t of p(e))R.call(e,t)&&g(r,t,e[t]);return r},P=(r,e)=>T(r,L(e));const V=y.forwardRef((r,e)=>a.createElement(k,P(A({ref:e},r),{weights:Z})));V.displayName="PauseCircle";var c,b;const i=class i{constructor({voiceId:e}={voiceId:null}){u(this,c);m(this,"voiceId","en_US-hfc_female-medium");m(this,"worker",null);return i._instance?(this.voiceId=e!==null?e:this.voiceId,i._instance):(this.voiceId=e!==null?e:this.voiceId,i._instance=this,this)}static async voices(){const e=new Worker(new URL("/assets/worker-fb3b19dc.js",self.location),{type:"module"});return e.postMessage({type:"voices"}),new Promise((t,s)=>{let o=null;const n=l=>{if(l.data.type!=="voices"){console.log("PiperTTSWorker debug event:",l.data);return}t(l.data.voices),e.removeEventListener("message",n),o&&clearTimeout(o),e.terminate()};o=setTimeout(()=>{s("TTS Worker timed out.")},3e4),e.addEventListener("message",n)})}static async flush(){const e=new Worker(new URL("/assets/worker-fb3b19dc.js",self.location),{type:"module"});return e.postMessage({type:"flush"}),new Promise((t,s)=>{let o=null;const n=l=>{if(l.data.type!=="flush"){console.log("PiperTTSWorker debug event:",l.data);return}t(l.data.flushed),e.removeEventListener("message",n),o&&clearTimeout(o),e.terminate()};o=setTimeout(()=>{s("TTS Worker timed out.")},3e4),e.addEventListener("message",n)})}async waitForBlobResponse(){return new Promise(e=>{let t=null;const s=o=>{if(o.data.type==="error")return this.worker.removeEventListener("message",s),t&&clearTimeout(t),e({blobURL:null,error:o.data.message});if(o.data.type!=="result"){console.log("PiperTTSWorker debug event:",o.data);return}e({blobURL:URL.createObjectURL(o.data.audio),error:null}),this.worker.removeEventListener("message",s),t&&clearTimeout(t)};t=setTimeout(()=>{e({blobURL:null,error:"PiperTTSWorker Worker timed out."})},3e4),this.worker.addEventListener("message",s)})}async getAudioBlobForText(e,t=null){d(this,c,b).call(this).postMessage({type:"init",text:String(e),voiceId:t!=null?t:this.voiceId});const{blobURL:o,error:n}=await this.waitForBlobResponse();if(n){E(`Could not generate voice prediction. Error: ${n}`,"error",{clear:!0});return}return o}};c=new WeakSet,b=function(){return this.worker||(this.worker=new Worker(new URL("/assets/worker-fb3b19dc.js",self.location),{type:"module"})),this.worker},m(i,"_instance");let h=i;export{V as C,h as P};
