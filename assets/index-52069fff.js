import{R as f,r as o,g as ee,b as N,j as e,G as te,h as F,q as se,W as M,s as w,d as U,p as C,af as he,k as W,S as L,o as ae,M as q,n as ne,w as Z,L as V,ag as pe,a as re,c as fe,F as le,P as ge,i as B,ah as be}from"../index.js";import{a as je}from"./index-2e8bbb9a.js";import{A as ye,b as ve}from"./index-0f62630d.js";import{c as z,D as we}from"./types-fb94b3ea.js";import{I as ie,w as Ne}from"./index-af9073a4.js";import{AVAILABLE_LLM_PROVIDERS as oe}from"./index-7571ffcd.js";import{D as ce}from"./CaretUpDown-676a7767.js";import{A as k}from"./admin-40631925.js";import{S as R}from"./index-44bf2282.js";import{t as Se}from"./index-b542d8eb.js";import{C as Me}from"./index-07eec889.js";import{w as Ce}from"./Gauge-e6762f4d.js";/* empty css                 */import"./numbers-3998afe1.js";import"./File-b92df2f3.js";import"./pluralize-b09498b3.js";import"./index-4fb4d421.js";import"./Warning-8bf71f60.js";import"./Globe-1f44e45d.js";import"./CaretRight-731d83f5.js";const Le=new Map([["bold",f.createElement(f.Fragment,null,f.createElement("path",{d:"M216,44H40A20,20,0,0,0,20,64V224A19.82,19.82,0,0,0,31.56,242.1a20.14,20.14,0,0,0,8.49,1.9,19.91,19.91,0,0,0,12.82-4.72l.12-.11L84.47,212H216a20,20,0,0,0,20-20V64A20,20,0,0,0,216,44Zm-4,144H80a11.93,11.93,0,0,0-7.84,2.92L44,215.23V68H212ZM84,108A12,12,0,0,1,96,96h64a12,12,0,1,1,0,24H96A12,12,0,0,1,84,108Zm0,40a12,12,0,0,1,12-12h64a12,12,0,0,1,0,24H96A12,12,0,0,1,84,148Z"}))],["duotone",f.createElement(f.Fragment,null,f.createElement("path",{d:"M224,64V192a8,8,0,0,1-8,8H80L45.15,230.11A8,8,0,0,1,32,224V64a8,8,0,0,1,8-8H216A8,8,0,0,1,224,64Z",opacity:"0.2"}),f.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V224a15.85,15.85,0,0,0,9.24,14.5A16.13,16.13,0,0,0,40,240a15.89,15.89,0,0,0,10.25-3.78l.09-.07L83,208H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM40,224h0ZM216,192H80a8,8,0,0,0-5.23,1.95L40,224V64H216ZM88,112a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H96A8,8,0,0,1,88,112Zm0,32a8,8,0,0,1,8-8h64a8,8,0,1,1,0,16H96A8,8,0,0,1,88,144Z"}))],["fill",f.createElement(f.Fragment,null,f.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V224a15.84,15.84,0,0,0,9.25,14.5A16.05,16.05,0,0,0,40,240a15.89,15.89,0,0,0,10.25-3.78l.09-.07L83,208H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM160,152H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm0-32H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Z"}))],["light",f.createElement(f.Fragment,null,f.createElement("path",{d:"M216,50H40A14,14,0,0,0,26,64V224a13.88,13.88,0,0,0,8.09,12.69A14.11,14.11,0,0,0,40,238a13.87,13.87,0,0,0,9-3.31l.06-.05L82.23,206H216a14,14,0,0,0,14-14V64A14,14,0,0,0,216,50Zm2,142a2,2,0,0,1-2,2H80a6,6,0,0,0-3.92,1.46L41.26,225.53A2,2,0,0,1,38,224V64a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2Zm-52-80a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,112Zm0,32a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,144Z"}))],["regular",f.createElement(f.Fragment,null,f.createElement("path",{d:"M216,48H40A16,16,0,0,0,24,64V224a15.85,15.85,0,0,0,9.24,14.5A16.13,16.13,0,0,0,40,240a15.89,15.89,0,0,0,10.25-3.78l.09-.07L83,208H216a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM40,224h0ZM216,192H80a8,8,0,0,0-5.23,1.95L40,224V64H216ZM88,112a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H96A8,8,0,0,1,88,112Zm0,32a8,8,0,0,1,8-8h64a8,8,0,1,1,0,16H96A8,8,0,0,1,88,144Z"}))],["thin",f.createElement(f.Fragment,null,f.createElement("path",{d:"M216,52H40A12,12,0,0,0,28,64V224a11.89,11.89,0,0,0,6.93,10.88A12.17,12.17,0,0,0,40,236a11.89,11.89,0,0,0,7.69-2.83l0,0L81.49,204H216a12,12,0,0,0,12-12V64A12,12,0,0,0,216,52Zm4,140a4,4,0,0,1-4,4H80a4,4,0,0,0-2.62,1L42.56,227.06A4,4,0,0,1,36,224V64a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4Zm-56-80a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,112Zm0,32a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,144Z"}))]]);var Ae=Object.defineProperty,Ee=Object.defineProperties,ke=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Q=(t,s,a)=>s in t?Ae(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,Pe=(t,s)=>{for(var a in s||(s={}))Fe.call(s,a)&&Q(t,a,s[a]);if(G)for(var a of G(s))De.call(s,a)&&Q(t,a,s[a]);return t},Oe=(t,s)=>Ee(t,ke(s));const de=o.forwardRef((t,s)=>f.createElement(ee,Oe(Pe({ref:s},t),{weights:Le})));de.displayName="ChatText";const Ve=new Map([["bold",f.createElement(f.Fragment,null,f.createElement("path",{d:"M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"}))],["duotone",f.createElement(f.Fragment,null,f.createElement("path",{d:"M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z",opacity:"0.2"}),f.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["fill",f.createElement(f.Fragment,null,f.createElement("path",{d:"M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"}))],["light",f.createElement(f.Fragment,null,f.createElement("path",{d:"M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"}))],["regular",f.createElement(f.Fragment,null,f.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["thin",f.createElement(f.Fragment,null,f.createElement("path",{d:"M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"}))]]);var ze=Object.defineProperty,$e=Object.defineProperties,He=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,X=(t,s,a)=>s in t?ze(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,We=(t,s)=>{for(var a in s||(s={}))Re.call(s,a)&&X(t,a,s[a]);if(K)for(var a of K(s))Ue.call(s,a)&&X(t,a,s[a]);return t},qe=(t,s)=>$e(t,He(s));const ue=o.forwardRef((t,s)=>f.createElement(ee,qe(We({ref:s},t),{weights:Ve})));ue.displayName="User";function Ze({workspace:t,setHasChanges:s}){const{t:a}=N();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:a("common.workspaces-name")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:a("general.names.description")})]}),e.jsx("input",{name:"name",type:"text",minLength:2,maxLength:80,defaultValue:t==null?void 0:t.name,className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"My Workspace",required:!0,autoComplete:"off",onChange:()=>s(!0)})]})}function Ie({slug:t}){const[s,a]=o.useState([]),[r,n]=o.useState(-1),[l,c]=o.useState({heading:"",message:""}),[d,i]=o.useState(!1),[u,m]=o.useState(!0),{t:x}=N();o.useEffect(()=>{async function v(){if(!t)return;const S=await M.getSuggestedMessages(t);a(S),m(!1)}v()},[t]);const p=async()=>{const v=s.filter(E=>{var P,I,T,_;return((I=(P=E==null?void 0:E.heading)==null?void 0:P.trim())==null?void 0:I.length)>0||((_=(T=E==null?void 0:E.message)==null?void 0:T.trim())==null?void 0:_.length)>0}),{success:S,error:A}=await M.setSuggestedMessages(t,v);if(!S){w(`Failed to update welcome messages: ${A}`,"error");return}w("Successfully updated welcome messages.","success"),i(!1)},g=()=>{if(n(-1),s.length>=4){w("Maximum of 4 messages allowed.","warning");return}const v={heading:x("general.message.heading"),message:x("general.message.body")};c(v),a([...s,{...v}]),i(!0)},h=v=>{const S=[...s];S.splice(v,1),a(S),i(!0)},b=(v,S)=>{v.preventDefault(),n(S),c({...s[S]})},y=v=>{h(v),n(-1)},j=v=>{const S={...l,[v.target.name]:v.target.value};c(S);const A=s.map((E,P)=>P===r?{...E,[v.target.name]:v.target.value}:E);a(A),i(!0)};return u?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block input-label",children:x("general.message.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:x("general.message.description")}),e.jsx("p",{className:"text-white text-opacity-60 text-sm font-medium mt-6",children:e.jsx(te,{size:"4"})})]}):e.jsxs("div",{className:"w-screen mt-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block input-label",children:x("general.message.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:x("general.message.description")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-white/60 text-xs mt-2 w-full justify-center max-w-[600px]",children:s.map((v,S)=>e.jsxs("div",{className:"relative w-full",children:[e.jsx("button",{className:"transition-all duration-300 absolute z-10 text-neutral-700 bg-white rounded-full hover:bg-zinc-600 hover:border-zinc-600 hover:text-white border-transparent border shadow-lg ml-2",style:{top:-8,left:265},onClick:()=>y(S),children:e.jsx(F,{className:"m-[1px]",size:20})}),e.jsxs("button",{onClick:A=>b(A,S),className:`text-left p-2.5 border rounded-xl w-full border-white/20 bg-theme-settings-input-bg hover:bg-theme-sidebar-item-selected-gradient ${r===S?"border-sky-400":""}`,children:[e.jsx("p",{className:"font-semibold",children:v.heading}),e.jsx("p",{children:v.message})]},S)]},S))}),r>=0&&e.jsxs("div",{className:"flex flex-col gap-y-4 mr-2 mt-8",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-2",children:"Heading"}),e.jsx("input",{placeholder:"Message heading",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-white/20 text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block p-2.5 w-full",value:l.heading,name:"heading",onChange:j})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-2",children:"Message"}),e.jsx("input",{placeholder:"Message",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-white/20 text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block p-2.5 w-full",value:l.message,name:"message",onChange:j})]})]}),s.length<4&&e.jsxs("button",{type:"button",onClick:g,className:"flex gap-x-2 items-center justify-center mt-6 text-white text-sm hover:text-sky-400 transition-all duration-300",children:[x("general.message.add")," ",e.jsx(se,{className:"",size:24,weight:"fill"})]}),d&&e.jsx("div",{className:"flex justify-start py-6",children:e.jsx("button",{type:"button",className:"transition-all duration-300 border border-slate-200 px-4 py-2 rounded-lg text-white text-sm items-center flex gap-x-2 hover:bg-slate-200 hover:text-slate-800 focus:ring-gray-800",onClick:p,children:x("general.message.save")})})]})}function Te({workspace:t}){const{slug:s}=U(),[a,r]=o.useState(!1),{t:n}=N(),l=async()=>{if(!window.confirm(`${n("general.delete.confirm-start")} ${t.name} ${n("general.delete.confirm-end")}`))return!1;if(r(!0),!await M.delete(t.slug)){w("Workspace could not be deleted!","error",{clear:!0}),r(!1);return}t.slug===s?window.location=C.home():window.location.reload()};return e.jsxs("div",{className:"flex flex-col mt-10",children:[e.jsx("label",{className:"block input-label",children:n("general.delete.title")}),e.jsx("p",{className:"text-theme-text-secondary text-xs font-medium py-1.5",children:n("general.delete.description")}),e.jsx("button",{disabled:a,onClick:l,type:"button",className:"w-60 mt-4 transition-all duration-300 border border-transparent rounded-lg whitespace-nowrap text-sm px-5 py-2.5 focus:z-10 bg-red-500/25 text-red-200 light:text-red-500 hover:light:text-[#FFFFFF] hover:text-[#FFFFFF] hover:bg-red-600 disabled:bg-red-600 disabled:text-red-200 disabled:animate-pulse",children:n(a?"general.delete.deleting":"general.delete.delete")})]})}function _e({workspace:t,slug:s}){const[a,r]=o.useState(null),{t:n}=N();o.useEffect(()=>{async function d(){const i=await M.fetchPfp(s);r(i)}d()},[s]);const l=async d=>{const i=d.target.files[0];if(!i)return!1;const u=new FormData;u.append("file",i);const{success:m,error:x}=await M.uploadPfp(u,t.slug);if(!m){w(`Failed to upload profile picture: ${x}`,"error");return}const p=await M.fetchPfp(t.slug);r(p),w("Profile picture uploaded.","success")},c=async()=>{const{success:d,error:i}=await M.removePfp(t.slug);if(!d){w(`Failed to remove profile picture: ${i}`,"error");return}r(null)};return e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block input-label",children:n("general.pfp.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:n("general.pfp.description")})]}),e.jsx("div",{className:"flex flex-col md:flex-row items-center gap-8",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("label",{className:"w-36 h-36 flex flex-col items-center justify-center bg-theme-settings-input-bg transition-all duration-300 rounded-full mt-8 border-2 border-dashed border-white border-opacity-60 cursor-pointer hover:opacity-60",children:[e.jsx("input",{id:"workspace-pfp-upload",type:"file",accept:"image/*",className:"hidden",onChange:l}),a?e.jsx("img",{src:a,alt:"User profile picture",className:"w-36 h-36 rounded-full object-cover bg-theme-bg-secondary"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-3",children:[e.jsx(se,{className:"w-8 h-8 text-theme-text-secondary m-2"}),e.jsx("span",{className:"text-theme-text-secondary text-opacity-80 text-xs font-semibold",children:n("general.pfp.image")}),e.jsx("span",{className:"text-theme-text-secondary text-opacity-60 text-xs",children:"800 x 800"})]})]}),a&&e.jsx("button",{type:"button",onClick:c,className:"mt-3 text-theme-text-secondary text-opacity-60 text-sm font-medium hover:underline",children:n("general.pfp.remove")})]})})]})}function Be({slug:t}){const[s,a]=o.useState(null),[r,n]=o.useState(!1),[l,c]=o.useState(!1),[d,i]=o.useState(!0),u=o.useRef(null);o.useEffect(()=>{async function x(){const p=await M.bySlug(t);a(p),i(!1)}x()},[t]);const m=async x=>{c(!0),x.preventDefault();const p={},g=new FormData(u.current);for(var[h,b]of g.entries())p[h]=z(h,b);const{workspace:y,message:j}=await M.update(s.slug,p);y?w("Workspace updated!","success",{clear:!0}):w(`Error: ${j}`,"error",{clear:!0}),c(!1),n(!1)};return!s||d?null:e.jsxs(e.Fragment,{children:[e.jsxs("form",{ref:u,onSubmit:m,className:"w-1/2 flex flex-col gap-y-6",children:[e.jsx(Ze,{workspace:s,setHasChanges:n},s.slug),r&&e.jsx("button",{type:"submit",className:"transition-all w-fit duration-300 border border-slate-200 px-5 py-2.5 rounded-lg text-white text-sm items-center flex gap-x-2 hover:bg-slate-200 hover:text-slate-800 focus:ring-gray-800",children:l?"Updating...":"Update workspace"})]}),e.jsx(Ie,{slug:s.slug}),e.jsx(_e,{workspace:s,slug:t}),e.jsx(Te,{workspace:s})]})}function Ge({workspace:t,setHasChanges:s}){var r;const{t:a}=N();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col gap-y-1 mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block mb-2 input-label",children:a("chat.history.title")}),e.jsxs("p",{className:"text-white text-opacity-60 text-xs font-medium",children:[a("chat.history.desc-start"),e.jsxs("i",{children:[" ",a("chat.history.recommend")," "]}),a("chat.history.desc-end")]})]}),e.jsx("input",{name:"openAiHistory",type:"number",min:1,max:45,step:1,onWheel:n=>n.target.blur(),defaultValue:(r=t==null?void 0:t.openAiHistory)!=null?r:20,className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"20",required:!0,autoComplete:"off",onChange:()=>s(!0)})]})}function Qe({workspace:t,setHasChanges:s}){const{t:a}=N();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:a("chat.prompt.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:a("chat.prompt.description")})]}),e.jsx("textarea",{name:"openAiPrompt",rows:5,defaultValue:he(t),className:"border-none bg-theme-settings-input-bg placeholder:text-theme-settings-input-placeholder text-white text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5 mt-2",placeholder:"Given the following conversation, relevant context, and a follow up question, reply with an answer to the current question the user is asking. Return only your response to the question given the above information following the users instructions as needed.",required:!0,wrap:"soft",autoComplete:"off",onChange:()=>s(!0)})]})}function Ke(t=null){switch(t){case"mistral":return{temp:0};default:return{temp:.7}}}function Xe({settings:t,workspace:s,setHasChanges:a}){var l;const r=Ke(t==null?void 0:t.LLMProvider),{t:n}=N();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:n("chat.temperature.title")}),e.jsxs("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:[n("chat.temperature.desc-start"),e.jsx("br",{}),n("chat.temperature.desc-end"),e.jsx("br",{}),e.jsx("br",{}),e.jsx("i",{children:n("chat.temperature.hint")})]})]}),e.jsx("input",{name:"openAiTemp",type:"number",min:0,step:.1,onWheel:c=>c.target.blur(),defaultValue:(l=s==null?void 0:s.openAiTemp)!=null?l:r.temp,className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"0.7",required:!0,autoComplete:"off",onChange:()=>a(!0)})]})}function Je({workspace:t,setHasChanges:s}){const[a,r]=o.useState((t==null?void 0:t.chatMode)||"chat"),{t:n}=N();return e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("label",{htmlFor:"chatMode",className:"block input-label",children:n("chat.mode.title")})}),e.jsxs("div",{className:"flex flex-col gap-y-1 mt-2",children:[e.jsxs("div",{className:"w-fit flex gap-x-1 items-center p-1 rounded-lg bg-theme-settings-input-bg ",children:[e.jsx("input",{type:"hidden",name:"chatMode",value:a}),e.jsx("button",{type:"button",disabled:a==="chat",onClick:()=>{r("chat"),s(!0)},className:"transition-bg duration-200 px-6 py-1 text-md text-white/60 disabled:text-white bg-transparent disabled:bg-[#687280] rounded-md",children:n("chat.mode.chat.title")}),e.jsx("button",{type:"button",disabled:a==="query",onClick:()=>{r("query"),s(!0)},className:"transition-bg duration-200 px-6 py-1 text-md text-white/60 disabled:text-white bg-transparent disabled:bg-[#687280] rounded-md",children:n("chat.mode.query.title")})]}),e.jsx("p",{className:"text-sm text-white/60",children:a==="chat"?e.jsxs(e.Fragment,{children:[e.jsx("b",{children:n("chat.mode.chat.title")})," ",n("chat.mode.chat.desc-start")," ",e.jsx("i",{className:"font-semibold",children:n("chat.mode.chat.and")})," ",n("chat.mode.chat.desc-end")]}):e.jsxs(e.Fragment,{children:[e.jsx("b",{children:n("chat.mode.query.title")})," ",n("chat.mode.query.desc-start")," ",e.jsx("i",{className:"font-semibold",children:n("chat.mode.query.only")})," ",n("chat.mode.query.desc-end")]})})]})]})}const Ye=["default"];function et({llm:t,availableLLMs:s,settings:a,checked:r,onClick:n}){const{isOpen:l,openModal:c,closeModal:d}=W(),{name:i,value:u,logo:m,description:x}=t,[p,g]=o.useState(a);o.useEffect(()=>{async function b(){if(l){const y=await L.keys();g(y!=null?y:{})}}b()},[l]);function h(){if(!r){if((t.requiredConfig||[]).some(y=>!p[y])){c();return}n(u)}}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:h,className:`w-full p-2 rounded-md hover:cursor-pointer hover:bg-theme-bg-secondary ${r?"bg-theme-bg-secondary":""}`,children:[e.jsx("input",{type:"checkbox",value:u,className:"peer hidden",checked:r,readOnly:!0,formNoValidate:!0}),e.jsxs("div",{className:"flex gap-x-4 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:m,alt:`${i} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:i}),e.jsx("div",{className:"mt-1 text-xs text-white/60",children:x})]})]}),r&&!Ye.includes(u)&&e.jsx("button",{onClick:b=>{b.preventDefault(),c()},className:"p-2 text-white/60 hover:text-white hover:bg-theme-bg-hover rounded-md transition-all duration-300",title:"Edit Settings",children:e.jsx(ie,{size:20,weight:"bold"})})]})]}),e.jsx(tt,{availableLLMs:s,isOpen:l,provider:u,closeModal:d,postSubmit:n,settings:p})]})}function tt({availableLLMs:t,isOpen:s,provider:a,closeModal:r,postSubmit:n,settings:l}){if(!s)return null;const c=t.find(i=>i.value===a);if(!c)return null;async function d(i){i.preventDefault(),i.stopPropagation();const u={},m=new FormData(i.target);for(var[x,p]of m.entries())u[x]=p;const{error:g}=await L.updateSystem(u);if(g){w(`Failed to save ${c.name} settings: ${g}`,"error");return}return r(),n(),!1}return ae.createPortal(e.jsx(q,{isOpen:s,children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full max-w-2xl bg-theme-bg-secondary rounded-lg shadow border-2 border-theme-modal-border",children:[e.jsxs("div",{className:"relative p-6 border-b rounded-t border-theme-modal-border",children:[e.jsx("div",{className:"w-full flex gap-x-2 items-center",children:e.jsxs("h3",{className:"text-xl font-semibold text-white overflow-hidden overflow-ellipsis whitespace-nowrap",children:[c.name," Settings"]})}),e.jsx("button",{onClick:r,type:"button",className:"absolute top-4 right-4 transition-all duration-300 bg-transparent rounded-lg text-sm p-1 inline-flex items-center hover:bg-theme-modal-border hover:border-theme-modal-border hover:border-opacity-50 border-transparent border",children:e.jsx(F,{size:24,weight:"bold",className:"text-white"})})]}),e.jsxs("form",{id:"provider-form",onSubmit:d,children:[e.jsx("div",{className:"px-7 py-6",children:e.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-1",children:[e.jsxs("p",{className:"text-sm text-white/60",children:["To use ",c.name," as this workspace's LLM you need to set it up first."]}),e.jsx("div",{children:c.options(l,{credentialsOnly:!0})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6 border-t border-theme-modal-border px-7 pb-6",children:[e.jsx("button",{type:"button",onClick:r,className:"transition-all duration-300 text-white hover:bg-zinc-700 px-4 py-2 rounded-lg text-sm",children:"Cancel"}),e.jsx("button",{type:"submit",form:"provider-form",className:"transition-all duration-300 bg-white text-black hover:opacity-60 px-4 py-2 rounded-lg text-sm",children:"Save settings"})]})]})]})})}),document.getElementById("workspace-chat-settings-container"))}const me=["azure","textgenwebui","generic-openai","bedrock"],J={openai:[],gemini:["gemini-pro","gemini-1.0-pro","gemini-1.5-pro-latest","gemini-1.5-flash-latest","gemini-1.5-pro-exp-0801","gemini-1.5-pro-exp-0827","gemini-1.5-flash-exp-0827","gemini-1.5-flash-8b-exp-0827","gemini-exp-1114","gemini-exp-1121","gemini-exp-1206","learnlm-1.5-pro-experimental","gemini-2.0-flash-exp"],anthropic:["claude-instant-1.2","claude-2.0","claude-2.1","claude-3-haiku-20240307","claude-3-sonnet-20240229","claude-3-opus-latest","claude-3-5-haiku-latest","claude-3-5-haiku-20241022","claude-3-5-sonnet-latest","claude-3-5-sonnet-20241022","claude-3-5-sonnet-20240620"],azure:[],lmstudio:[],localai:[],ollama:[],togetherai:[],fireworksai:[],"nvidia-nim":[],groq:[],cohere:["command-r","command-r-plus","command","command-light","command-nightly","command-light-nightly"],textgenwebui:[],"generic-openai":[],bedrock:[],xai:["grok-beta"]};function st(t){return t.reduce((s,a)=>(s[a.organization]=s[a.organization]||[],s[a.organization].push(a),s),{})}const Y=["togetherai","fireworksai","openai","novita","openrouter"];function xe(t=null){const[s,a]=o.useState([]),[r,n]=o.useState([]),[l,c]=o.useState(!0);return o.useEffect(()=>{async function d(){if(!t)return;const{models:i=[]}=await L.customModels(t);J.hasOwnProperty(t)&&!Y.includes(t)?a(J[t]):a([]),Y.includes(t)?n(st(i)):n(i),c(!1)}d()},[t]),{defaultModels:s,customModels:r,loading:l}}function at({provider:t,workspace:s,setHasChanges:a}){const{defaultModels:r,customModels:n,loading:l}=xe(t),{t:c}=N();return me.includes(t)?null:l?e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col mt-6",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:c("chat.model.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:c("chat.model.description")})]}),e.jsx("select",{name:"chatModel",required:!0,disabled:!0,className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",children:e.jsx("option",{disabled:!0,selected:!0,children:"-- waiting for models --"})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col mt-6",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:c("chat.model.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:c("chat.model.description")})]}),e.jsxs("select",{name:"chatModel",required:!0,onChange:()=>{a(!0)},className:"border-none bg-theme-settings-input-bg text-white text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",children:[r.length>0&&e.jsx("optgroup",{label:"General models",children:r.map(d=>e.jsx("option",{value:d,selected:(s==null?void 0:s.chatModel)===d,children:d},d))}),Array.isArray(n)&&n.length>0&&e.jsx("optgroup",{label:"Custom models",children:n.map(d=>e.jsx("option",{value:d.id,selected:(s==null?void 0:s.chatModel)===d.id,children:d.id},d.id))}),!Array.isArray(n)&&Object.keys(n).length>0&&e.jsx(e.Fragment,{children:Object.entries(n).map(([d,i])=>e.jsx("optgroup",{label:d,children:i.map(u=>e.jsx("option",{value:u.id,selected:(s==null?void 0:s.chatModel)===u.id,children:u.name},u.id))},d))})]})]})}const nt=["bedrock","azure","generic-openai"],rt=["default","huggingface"],lt=[],it={name:"System default",value:"default",logo:ne,options:()=>e.jsx(f.Fragment,{}),description:"Use the system LLM preference for this workspace.",requiredConfig:[]},O=[it,...oe].filter(t=>!lt.includes(t.value));function ot({settings:t,workspace:s,setHasChanges:a}){var y;const[r,n]=o.useState([]),[l,c]=o.useState((y=s==null?void 0:s.chatProvider)!=null?y:"default"),[d,i]=o.useState(""),[u,m]=o.useState(!1),x=o.useRef(null),{t:p}=N();function g(j){i(""),c(j),m(!1),a(!0)}function h(){d.length>0?(i(""),x.current&&(x.current.value="")):m(!u)}o.useEffect(()=>{const j=O.filter(v=>v.name.toLowerCase().includes(d.toLowerCase()));n(j)},[O,d,l]);const b=O.find(j=>j.value===l);return e.jsxs("div",{className:"border-b border-white/40 pb-8",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:p("chat.llm.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:p("chat.llm.description")})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"hidden",name:"chatProvider",value:l}),u&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 backdrop-blur-sm z-10",onClick:()=>m(!1)}),u?e.jsx("div",{className:"absolute top-0 left-0 w-full max-w-[640px] max-h-[310px] overflow-auto white-scrollbar min-h-[64px] bg-theme-settings-input-bg rounded-lg flex flex-col justify-between cursor-pointer border-2 border-primary-button z-20",children:e.jsxs("div",{className:"w-full flex flex-col gap-y-1",children:[e.jsxs("div",{className:"flex items-center sticky top-0 border-b border-[#9CA3AF] mx-4 bg-theme-settings-input-bg",children:[e.jsx(Z,{size:20,weight:"bold",className:"absolute left-4 z-30 text-theme-text-primary -ml-4 my-2"}),e.jsx("input",{type:"text",name:"llm-search",autoComplete:"off",placeholder:p("chat.llm.search"),className:"border-none -ml-4 my-2 bg-transparent z-20 pl-12 h-[38px] w-full px-4 py-1 text-sm outline-none focus:outline-primary-button active:outline-primary-button outline-none text-theme-text-primary placeholder:text-theme-text-primary placeholder:font-medium",onChange:j=>i(j.target.value),ref:x,onKeyDown:j=>{j.key==="Enter"&&j.preventDefault()}}),e.jsx(F,{size:20,weight:"bold",className:"cursor-pointer text-theme-text-primary hover:text-x-button",onClick:h})]}),e.jsx("div",{className:"flex-1 pl-4 pr-2 flex flex-col gap-y-1 overflow-y-auto white-scrollbar pb-4",children:r.map(j=>e.jsx(et,{llm:j,availableLLMs:O,settings:t,checked:l===j.value,onClick:()=>g(j.value)},j.name))})]})}):e.jsxs("button",{className:"w-full max-w-[640px] h-[64px] bg-theme-settings-input-bg rounded-lg flex items-center p-[14px] justify-between cursor-pointer border-2 border-transparent hover:border-primary-button transition-all duration-300",type:"button",onClick:()=>m(!0),children:[e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:b.logo,alt:`${b.name} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:b.name}),e.jsx("div",{className:"mt-1 text-xs text-description",children:b.description})]})]}),e.jsx(ce,{size:24,weight:"bold",className:"text-white"})]})]}),e.jsx(ct,{selectedLLM:l,workspace:s,setHasChanges:a})]})}function ct({selectedLLM:t,workspace:s,setHasChanges:a}){return rt.includes(t)?t!=="default"?e.jsx("div",{className:"w-full h-10 justify-center items-center flex mt-4",children:e.jsxs("p",{className:"text-sm font-base text-white text-opacity-60 text-center",children:["Multi-model support is not supported for this provider yet.",e.jsx("br",{}),"This workspace will use"," ",e.jsx(V,{to:C.settings.llmPreference(),className:"underline",children:"the model set for the system."})]})}):null:nt.includes(t)?e.jsx(dt,{workspace:s,setHasChanges:a}):e.jsx(at,{provider:t,workspace:s,setHasChanges:a})}function dt({workspace:t,setHasChanges:s}){const{t:a}=N();return e.jsxs("div",{className:"mt-4 flex flex-col gap-y-1",children:[e.jsx("label",{className:"block input-label",children:a("chat.model.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:a("chat.model.description")}),e.jsx("input",{type:"text",name:"chatModel",defaultValue:(t==null?void 0:t.chatModel)||"",onChange:()=>s(!0),className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"Enter model name exactly as referenced in the API (e.g., gpt-3.5-turbo)"})]})}function ut({workspace:t,setHasChanges:s}){const{t:a}=N();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:a("chat.refusal.title")}),e.jsxs("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:[a("chat.refusal.desc-start")," ",e.jsx("code",{className:"border-none bg-theme-settings-input-bg p-0.5 rounded-sm",children:a("chat.refusal.query")})," ",a("chat.refusal.desc-end")]})]}),e.jsx("textarea",{name:"queryRefusalResponse",rows:2,defaultValue:pe(t),className:"border-none bg-theme-settings-input-bg placeholder:text-theme-settings-input-placeholder text-white text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5 mt-2",placeholder:"The text returned in query mode when there is no relevant context found for a response.",required:!0,wrap:"soft",autoComplete:"off",onChange:()=>s(!0)})]})}function mt({workspace:t}){const[s,a]=o.useState({}),[r,n]=o.useState(!1),[l,c]=o.useState(!1),d=o.useRef(null);o.useEffect(()=>{async function u(){const m=await L.keys();a(m!=null?m:{})}u()},[]);const i=async u=>{c(!0),u.preventDefault();const m={},x=new FormData(d.current);for(var[p,g]of x.entries())m[p]=z(p,g);const{workspace:h,message:b}=await M.update(t.slug,m);h?w("Workspace updated!","success",{clear:!0}):w(`Error: ${b}`,"error",{clear:!0}),c(!1),n(!1)};return t?e.jsx("div",{id:"workspace-chat-settings-container",children:e.jsxs("form",{ref:d,onSubmit:i,id:"chat-settings-form",className:"w-1/2 flex flex-col gap-y-6",children:[e.jsx(ot,{settings:s,workspace:t,setHasChanges:n}),e.jsx(Je,{workspace:t,setHasChanges:n}),e.jsx(Ge,{workspace:t,setHasChanges:n}),e.jsx(Qe,{workspace:t,setHasChanges:n}),e.jsx(ut,{workspace:t,setHasChanges:n}),e.jsx(Xe,{settings:s,workspace:t,setHasChanges:n}),r&&e.jsx("button",{type:"submit",form:"chat-settings-form",className:"w-fit transition-all duration-300 border border-slate-200 px-5 py-2.5 rounded-lg text-white text-sm items-center flex gap-x-2 hover:bg-slate-200 hover:text-slate-800 focus:ring-gray-800",children:l?"Updating...":"Update workspace"})]})}):null}function xt({workspace:t}){const{t:s}=N();return e.jsxs("div",{children:[e.jsx("h3",{className:"input-label",children:s("vector-workspace.identifier")}),e.jsx("p",{className:"text-white/60 text-xs font-medium py-1",children:" "}),e.jsx("p",{className:"text-white/60 text-sm",children:t==null?void 0:t.slug})]})}function ht({workspace:t,setHasChanges:s}){var r;const{t:a}=N();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:a("vector-workspace.snippets.title")}),e.jsxs("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:[a("vector-workspace.snippets.description"),e.jsx("br",{}),e.jsx("i",{children:a("vector-workspace.snippets.recommend")})]})]}),e.jsx("input",{name:"topN",type:"number",min:1,max:200,step:1,onWheel:n=>n.target.blur(),defaultValue:(r=t==null?void 0:t.topN)!=null?r:4,className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5 mt-2",placeholder:"4",required:!0,autoComplete:"off",onChange:()=>s(!0)})]})}function pt({workspace:t,setHasChanges:s}){var r;const{t:a}=N();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:a("vector-workspace.doc.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:a("vector-workspace.doc.description")})]}),e.jsxs("select",{name:"similarityThreshold",defaultValue:(r=t==null?void 0:t.similarityThreshold)!=null?r:.25,className:"border-none bg-theme-settings-input-bg text-white text-sm mt-2 rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",onChange:()=>s(!0),required:!0,children:[e.jsx("option",{value:0,children:a("vector-workspace.doc.zero")}),e.jsx("option",{value:.25,children:a("vector-workspace.doc.low")}),e.jsx("option",{value:.5,children:a("vector-workspace.doc.medium")}),e.jsx("option",{value:.75,children:a("vector-workspace.doc.high")})]})]})}function ft({workspace:t}){const[s,a]=o.useState(!1),{t:r}=N(),n=async()=>{if(!window.confirm(`${r("vector-workspace.reset.confirm")}`))return!1;if(a(!0),!await M.wipeVectorDb(t.slug)){w(r("vector-workspace.reset.error"),r("vector-workspace.common.error"),{clear:!0}),a(!1);return}w(r("vector-workspace.reset.success"),r("vector-workspace.common.success"),{clear:!0}),a(!1)};return e.jsx("button",{disabled:s,onClick:n,type:"button",className:"w-60 transition-all duration-300 border border-transparent rounded-lg whitespace-nowrap text-sm px-5 py-2.5 focus:z-10 bg-red-500/25 text-red-200 light:text-red-500 hover:light:text-[#FFFFFF] hover:text-[#FFFFFF] hover:bg-red-600 disabled:bg-red-600 disabled:text-red-200 disabled:animate-pulse",children:r(s?"vector-workspace.reset.resetting":"vector-workspace.reset.reset")})}function gt({reload:t,workspace:s}){const[a,r]=o.useState(null),{t:n}=N();return o.useEffect(()=>{async function l(){const c=await L.totalIndexes(s.slug);r(c)}l()},[s==null?void 0:s.slug,t]),a===null?e.jsxs("div",{children:[e.jsx("h3",{className:"input-label",children:n("general.vector.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1",children:n("general.vector.description")}),e.jsx("p",{className:"text-white text-opacity-60 text-sm font-medium",children:e.jsx(te,{size:"4"})})]}):e.jsxs("div",{children:[e.jsx("h3",{className:"input-label",children:n("general.vector.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-sm font-medium",children:a})]})}const bt=["lancedb"],jt={default:{title:"Default",description:"This is the fastest performance, but may not return the most relevant results leading to model hallucinations."},rerank:{title:"Accuracy Optimized",description:"LLM responses may take longer to generate, but your responses will be more accurate and relevant."}};function yt({workspace:t,setHasChanges:s}){var n,l;const[a,r]=o.useState((n=t==null?void 0:t.vectorSearchMode)!=null?n:"default");return!(t!=null&&t.vectorDB)||!bt.includes(t==null?void 0:t.vectorDB)?null:e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("label",{htmlFor:"name",className:"block input-label",children:"Search Preference"})}),e.jsxs("select",{name:"vectorSearchMode",value:a,className:"border-none bg-theme-settings-input-bg text-white text-sm mt-2 rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",onChange:c=>{r(c.target.value),s(!0)},required:!0,children:[e.jsx("option",{value:"default",children:"Default"}),e.jsx("option",{value:"rerank",children:"Accuracy Optimized"})]}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:(l=jt[a])==null?void 0:l.description})]})}function vt({workspace:t}){const[s,a]=o.useState(!1),[r,n]=o.useState(!1),l=o.useRef(null),c=async d=>{n(!0),d.preventDefault();const i={},u=new FormData(l.current);for(var[m,x]of u.entries())i[m]=z(m,x);const{workspace:p,message:g}=await M.update(t.slug,i);p?w("Workspace updated!","success",{clear:!0}):w(`Error: ${g}`,"error",{clear:!0}),n(!1),a(!1)};return t?e.jsxs("form",{ref:l,onSubmit:c,className:"w-1/2 flex flex-col gap-y-6",children:[e.jsxs("div",{className:"flex items-start gap-x-5",children:[e.jsx(xt,{workspace:t}),e.jsx(gt,{reload:!0,workspace:t})]}),e.jsx(yt,{workspace:t,setHasChanges:a}),e.jsx(ht,{workspace:t,setHasChanges:a}),e.jsx(pt,{workspace:t,setHasChanges:a}),e.jsx(ft,{workspace:t}),s&&e.jsx("button",{type:"submit",className:"w-fit transition-all duration-300 border border-slate-200 px-5 py-2.5 rounded-lg text-white text-sm items-center flex gap-x-2 hover:bg-slate-200 hover:text-slate-800 focus:ring-gray-800",children:r?"Updating...":"Update workspace"})]}):null}function wt({closeModal:t,workspace:s,users:a}){const[r,n]=o.useState(""),[l,c]=o.useState((s==null?void 0:s.userIds)||[]),d=async h=>{h.preventDefault();const{success:b,error:y}=await k.updateUsersInWorkspace(s.id,l);b&&(w("Users updated successfully.","success"),setTimeout(()=>{window.location.reload()},1e3)),w(y,"error")},i=h=>{c(b=>b.includes(h)?b.filter(y=>y!==h):[...b,h])},u=()=>{l.length===g.length?c([]):c(g.map(h=>h.id))},m=()=>{c([])},x=h=>l.includes(h),p=h=>{n(h.target.value)},g=a.filter(h=>h.username.toLowerCase().includes(r.toLowerCase())).filter(h=>h.role!=="admin").filter(h=>h.role!=="manager");return e.jsx("div",{className:"relative w-full max-w-[550px] max-h-full",children:e.jsxs("div",{className:"w-full max-w-2xl bg-theme-bg-secondary rounded-lg shadow border-2 border-theme-modal-border overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b rounded-t border-theme-modal-border",children:[e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx("h3",{className:"text-base font-semibold text-white",children:"Users"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{onChange:p,className:"w-[400px] h-[34px] bg-theme-bg-primary rounded-[100px] text-white placeholder:text-theme-text-secondary text-sm px-10 pl-10",placeholder:"Search for a user"}),e.jsx(Z,{size:16,weight:"bold",className:"text-white text-lg absolute left-3 top-1/2 transform -translate-y-1/2"})]})]}),e.jsx("button",{onClick:t,type:"button",className:"border-none bg-transparent rounded-lg text-sm p-1.5 ml-auto inline-flex items-center bg-sidebar-button hover:bg-theme-modal-border hover:border-theme-modal-border hover:border-opacity-50 border-transparent border",children:e.jsx(F,{className:"text-white text-lg"})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsx("div",{className:"py-[17px] px-[20px]",children:e.jsx("table",{className:"gap-y-[8px] flex flex-col max-h-[385px] overflow-y-auto no-scroll",children:g.length>0?g.map(h=>e.jsxs("tr",{className:"flex items-center gap-x-2 cursor-pointer",onClick:()=>i(h.id),children:[e.jsx("div",{className:"shrink-0 w-3 h-3 rounded border-[1px] border-solid border-white light:border-black flex justify-center items-center",role:"checkbox","aria-checked":x(h.id),tabIndex:0,children:x(h.id)&&e.jsx("div",{className:"w-2 h-2 bg-white light:bg-black rounded-[2px]"})}),e.jsx("p",{className:"text-theme-text-primary text-sm font-medium",children:h.username})]},h.id)):e.jsx("p",{className:"text-theme-text-secondary text-sm font-medium ",children:"No users found"})})}),e.jsxs("div",{className:"flex w-full justify-between items-center p-3 space-x-2 border-t rounded-b border-gray-500/50",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsxs("button",{type:"button",onClick:u,className:"flex items-center gap-x-2 ml-2",children:[e.jsx("div",{className:"shrink-0 w-3 h-3 rounded border-[1px] border-white flex justify-center items-center cursor-pointer",role:"checkbox","aria-checked":l.length===g.length,tabIndex:0,children:l.length===g.length&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-[2px]"})}),e.jsx("p",{className:"text-white text-sm font-medium",children:"Select All"})]}),l.length>0&&e.jsx("button",{type:"button",onClick:m,className:"flex items-center gap-x-2 ml-2",children:e.jsx("p",{className:"text-theme-text-secondary text-sm font-medium hover:text-theme-text-primary",children:"Unselect"})})]}),e.jsx("button",{type:"submit",className:"transition-all duration-300 text-xs px-2 py-1 font-semibold rounded-lg bg-primary-button hover:bg-secondary border-2 border-transparent hover:border-primary-button hover:text-white h-[32px] w-[68px] -mr-8 whitespace-nowrap shadow-[0_4px_14px_rgba(0,0,0,0.25)]",children:"Save"})]})]})]})})}function Nt({user:t}){return e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"bg-transparent text-theme-text-primary text-sm font-medium",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 whitespace-nowrap",children:t.username}),e.jsx("td",{className:"px-6 py-4",children:Se(t.role)}),e.jsx("td",{className:"px-6 py-4",children:t.lastUpdatedAt})]})})}function St({workspace:t}){const[s,a]=o.useState(!0),[r,n]=o.useState([]),[l,c]=o.useState([]),[d,i]=o.useState(null),{isOpen:u,openModal:m,closeModal:x}=W();return o.useEffect(()=>{async function p(){const g=await k.users(),h=await k.workspaceUsers(t.id),b=await k.workspaces();i(b.find(y=>y.id===t.id)),c(h),n(g),a(!1)}p()},[t]),s?e.jsx(R,{height:"80vh",width:"100%",highlightColor:"var(--theme-bg-primary)",baseColor:"var(--theme-bg-secondary)",count:1,className:"w-full p-4 rounded-b-2xl rounded-tr-2xl rounded-tl-sm mt-6",containerClassName:"flex w-full"}):e.jsxs("div",{className:"flex justify-between -mt-3",children:[e.jsxs("table",{className:"w-full max-w-[700px] text-sm text-left rounded-lg",children:[e.jsx("thead",{className:"text-white text-opacity-80 text-xs leading-[18px] font-bold uppercase border-white/10 border-b border-opacity-60",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 rounded-tl-lg",children:"Username"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date Added"}),e.jsx("th",{scope:"col",className:"px-6 py-3 rounded-tr-lg",children:" "})]})}),e.jsx("tbody",{children:l.length>0?l.map((p,g)=>e.jsx(Nt,{user:p},g)):e.jsx("tr",{children:e.jsx("td",{className:"text-center py-4 text-white/80",colSpan:"4",children:"No workspace members"})})})]}),e.jsx(Me,{onClick:m,children:"Manage Users"}),e.jsx(q,{isOpen:u,children:e.jsx(wt,{closeModal:x,users:r,workspace:d})})]})}const Mt=["default","none"];function Ct({llm:t,availableLLMs:s,settings:a,checked:r,onClick:n}){const{isOpen:l,openModal:c,closeModal:d}=W(),{name:i,value:u,logo:m,description:x}=t,[p,g]=o.useState(a);o.useEffect(()=>{async function b(){if(l){const y=await L.keys();g(y!=null?y:{})}}b()},[l]);function h(){if(!r){if((t.requiredConfig||[]).some(y=>!p[y])){c();return}n(u)}}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:h,className:`w-full p-2 rounded-md hover:cursor-pointer hover:bg-theme-bg-secondary ${r?"bg-theme-bg-secondary":""}`,children:[e.jsx("input",{type:"checkbox",value:u,className:"peer hidden",checked:r,readOnly:!0,formNoValidate:!0}),e.jsxs("div",{className:"flex gap-x-4 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:m,alt:`${i} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:i}),e.jsx("div",{className:"mt-1 text-xs text-white/60",children:x})]})]}),r&&u!=="none"&&!Mt.includes(u)&&e.jsx("button",{onClick:b=>{b.preventDefault(),c()},className:"border-none p-2 text-white/60 hover:text-white hover:bg-theme-bg-hover rounded-md transition-all duration-300",title:"Edit Settings",children:e.jsx(ie,{size:20,weight:"bold"})})]})]}),e.jsx(Lt,{availableLLMs:s,isOpen:l,provider:u,closeModal:d,postSubmit:n,settings:p})]})}function Lt({availableLLMs:t,isOpen:s,provider:a,closeModal:r,postSubmit:n,settings:l}){if(!s)return null;const c=t.find(i=>i.value===a);if(!c)return null;async function d(i){i.preventDefault(),i.stopPropagation();const u={},m=new FormData(i.target);for(var[x,p]of m.entries())u[x]=p;const{error:g}=await L.updateSystem(u);if(g){w(`Failed to save ${c.name} settings: ${g}`,"error");return}return r(),n(),!1}return ae.createPortal(e.jsx(q,{isOpen:s,children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full max-w-2xl bg-theme-bg-secondary rounded-lg shadow border-2 border-theme-modal-border",children:[e.jsxs("div",{className:"relative p-6 border-b rounded-t border-theme-modal-border",children:[e.jsx("div",{className:"w-full flex gap-x-2 items-center",children:e.jsxs("h3",{className:"text-xl font-semibold text-white overflow-hidden overflow-ellipsis whitespace-nowrap",children:[c.name," Settings"]})}),e.jsx("button",{onClick:r,type:"button",className:"absolute top-4 right-4 transition-all duration-300 bg-transparent rounded-lg text-sm p-1 inline-flex items-center hover:bg-theme-modal-border hover:border-theme-modal-border hover:border-opacity-50 border-transparent border",children:e.jsx(F,{size:24,weight:"bold",className:"text-white"})})]}),e.jsxs("form",{id:"provider-form",onSubmit:d,children:[e.jsx("div",{className:"px-7 py-6",children:e.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto p-1",children:[e.jsxs("p",{className:"text-sm text-white/60",children:["To use ",c.name," as this workspace's agent LLM you need to set it up first."]}),e.jsx("div",{children:c.options(l,{credentialsOnly:!0})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6 border-t border-theme-modal-border px-7 pb-6",children:[e.jsx("button",{type:"button",onClick:r,className:"transition-all duration-300 text-white hover:bg-zinc-700 px-4 py-2 rounded-lg text-sm",children:"Cancel"}),e.jsxs("button",{type:"submit",form:"provider-form",className:"transition-all duration-300 bg-white text-black hover:opacity-60 px-4 py-2 rounded-lg text-sm",children:["Save ",c.name," settings"]})]})]})]})})}),document.getElementById("workspace-agent-settings-container"))}function $(t,s=""){return t==="openai"?["gpt-3.5-turbo-0301","gpt-4-turbo-2024-04-09","gpt-4-turbo","o1-preview","o1-preview-2024-09-12","o1-mini","o1-mini-2024-09-12","o3-mini","o3-mini-2025-01-31"].includes(s)===!1:!0}function At({provider:t,workspace:s,setHasChanges:a}){const{slug:r}=U(),{defaultModels:n,customModels:l,loading:c}=xe(t),{t:d}=N();return me.includes(t)?e.jsx("div",{className:"w-full h-10 justify-center items-center flex",children:e.jsxs("p",{className:"text-sm font-base text-white text-opacity-60 text-center",children:["Multi-model support is not supported for this provider yet.",e.jsx("br",{}),"Agent's will use"," ",e.jsx(V,{to:C.workspace.settings.chatSettings(r),className:"underline",children:"the model set for the workspace"})," ","or"," ",e.jsx(V,{to:C.settings.llmPreference(),className:"underline",children:"the model set for the system."})]})}):c?e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:d("agent.mode.chat.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:d("agent.mode.chat.description")})]}),e.jsx("select",{name:"agentModel",required:!0,disabled:!0,className:"border-none bg-theme-settings-input-bg text-white text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",children:e.jsx("option",{disabled:!0,selected:!0,children:d("agent.mode.wait")})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:d("agent.mode.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:d("agent.mode.description")})]}),e.jsxs("select",{name:"agentModel",required:!0,onChange:()=>{a(!0)},className:"border-none bg-theme-settings-input-bg text-white text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",children:[n.length>0&&e.jsx("optgroup",{label:"General models",children:n.map(i=>$(t,i)?e.jsx("option",{value:i,selected:(s==null?void 0:s.agentModel)===i,children:i},i):null)}),Array.isArray(l)&&l.length>0&&e.jsx("optgroup",{label:"Custom models",children:l.map(i=>$(t,i.id)?e.jsx("option",{value:i.id,selected:(s==null?void 0:s.agentModel)===i.id,children:i.id},i.id):null)}),!Array.isArray(l)&&Object.keys(l).length>0&&e.jsx(e.Fragment,{children:Object.entries(l).map(([i,u])=>e.jsx("optgroup",{label:i,children:u.map(m=>$(t,m.id)?e.jsx("option",{value:m.id,selected:(s==null?void 0:s.agentModel)===m.id,children:m.name},m.id):null)},i))})]})]})}const Et=["openai","anthropic","lmstudio","ollama","localai","groq","azure","koboldcpp","togetherai","openrouter","novita","mistral","perplexity","textgenwebui","generic-openai","bedrock","fireworksai","deepseek","litellm","apipie","xai","nvidia-nim"],kt=["lmstudio","groq","azure","koboldcpp","ollama","localai","openrouter","novita","generic-openai","textgenwebui"],Ft={name:"System Default",value:"none",logo:ne,options:()=>e.jsx(f.Fragment,{}),description:"Agents will use the workspace or system LLM unless otherwise specified.",requiredConfig:[]},H=[Ft,...oe.filter(t=>Et.includes(t.value))];function Dt({settings:t,workspace:s,setHasChanges:a}){var y;const[r,n]=o.useState([]),[l,c]=o.useState((y=s==null?void 0:s.agentProvider)!=null?y:"none"),[d,i]=o.useState(""),[u,m]=o.useState(!1),x=o.useRef(null),{t:p}=N();function g(j){i(""),c(j),m(!1),a(!0)}function h(){d.length>0?(i(""),x.current&&(x.current.value="")):m(!u)}o.useEffect(()=>{const j=H.filter(v=>v.name.toLowerCase().includes(d.toLowerCase()));n(j)},[d,l]);const b=H.find(j=>j.value===l);return e.jsxs("div",{className:"border-b border-white/40 pb-8",children:[kt.includes(l)&&e.jsx("div",{className:"flex flex-col md:flex-row md:items-center gap-x-2 text-white mb-4 bg-blue-800/30 w-fit rounded-lg px-4 py-2",children:e.jsxs("div",{className:"gap-x-2 flex items-center",children:[e.jsx(Ce,{className:"shrink-0",size:25}),e.jsx("p",{className:"text-sm",children:p("agent.performance-warning")})]})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"block input-label",children:p("agent.provider.title")}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:p("agent.provider.description")})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"hidden",name:"agentProvider",value:l}),u&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 backdrop-blur-sm z-10",onClick:()=>m(!1)}),u?e.jsx("div",{className:"absolute top-0 left-0 w-full max-w-[640px] max-h-[310px] overflow-auto white-scrollbar min-h-[64px] bg-theme-settings-input-bg rounded-lg flex flex-col justify-between cursor-pointer border-2 border-primary-button z-20",children:e.jsxs("div",{className:"w-full flex flex-col gap-y-1",children:[e.jsxs("div",{className:"flex items-center sticky top-0 border-b border-[#9CA3AF] mx-4 bg-theme-settings-input-bg",children:[e.jsx(Z,{size:20,weight:"bold",className:"absolute left-4 z-30 text-theme-text-primary -ml-4 my-2"}),e.jsx("input",{type:"text",name:"llm-search",autoComplete:"off",placeholder:"Search available LLM providers",className:"border-none -ml-4 my-2 bg-transparent z-20 pl-12 h-[38px] w-full px-4 py-1 text-sm outline-none text-theme-text-primary placeholder:text-theme-text-primary placeholder:font-medium",onChange:j=>i(j.target.value),ref:x,onKeyDown:j=>{j.key==="Enter"&&j.preventDefault()}}),e.jsx(F,{size:20,weight:"bold",className:"cursor-pointer text-theme-text-primary hover:text-x-button",onClick:h})]}),e.jsx("div",{className:"flex-1 pl-4 pr-2 flex flex-col gap-y-1 overflow-y-auto white-scrollbar pb-4",children:r.map(j=>e.jsx(Ct,{llm:j,availableLLMs:H,settings:t,checked:l===j.value,onClick:()=>g(j.value)},j.name))})]})}):e.jsxs("button",{className:"w-full max-w-[640px] h-[64px] bg-theme-settings-input-bg rounded-lg flex items-center p-[14px] justify-between cursor-pointer border-2 border-transparent hover:border-primary-button transition-all duration-300",type:"button",onClick:()=>m(!0),children:[e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:b.logo,alt:`${b.name} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:b.name}),e.jsx("div",{className:"mt-1 text-xs text-description",children:b.description})]})]}),e.jsx(ce,{size:24,weight:"bold",className:"text-white"})]})]}),l!=="none"&&e.jsx("div",{className:"mt-4 flex flex-col gap-y-1",children:e.jsx(At,{provider:l,workspace:s,setHasChanges:a})})]})}function Pt({workspace:t}){const{user:s}=re(),[a,r]=o.useState({}),[n,l]=o.useState(!1),[c,d]=o.useState(!1),[i,u]=o.useState(!0),m=o.useRef(null);o.useEffect(()=>{async function p(){const g=await L.keys(),h=await k.systemPreferences();r({...g,preferences:h.settings}),u(!1)}p()},[]);const x=async p=>{d(!0),p.preventDefault();const g={workspace:{},system:{},env:{}},h=new FormData(m.current);for(var[b,y]of h.entries()){if(b.startsWith("system::")){const[S,A]=b.split("system::");g.system[A]=String(y);continue}if(b.startsWith("env::")){const[S,A]=b.split("env::");g.env[A]=String(y);continue}g.workspace[b]=z(b,y)}const{workspace:j,message:v}=await M.update(t.slug,g.workspace);await k.updateSystemPreferences(g.system),await L.updateSystem(g.env),j?w("Workspace updated!","success",{clear:!0}):w(`Error: ${v}`,"error",{clear:!0}),d(!1),l(!1)};return!t||i?e.jsx(Ot,{}):e.jsx("div",{id:"workspace-agent-settings-container",children:e.jsxs("form",{ref:m,onSubmit:x,onChange:()=>l(!0),id:"agent-settings-form",className:"w-1/2 flex flex-col gap-y-6",children:[e.jsx(Dt,{settings:a,workspace:t,setHasChanges:l}),(!s||(s==null?void 0:s.role)==="admin")&&e.jsx(e.Fragment,{children:!n&&e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx("a",{className:"w-fit transition-all duration-300 border border-slate-200 px-5 py-2.5 rounded-lg text-white text-sm items-center flex gap-x-2 hover:bg-slate-200 hover:text-slate-800 focus:ring-gray-800",href:C.settings.agentSkills(),children:"Configure Agent Skills"}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium",children:"Customize and enhance the default agent's capabilities by enabling or disabling specific skills. These settings will be applied across all workspaces."})]})}),n&&e.jsx("button",{type:"submit",form:"agent-settings-form",className:"w-fit transition-all duration-300 border border-slate-200 px-5 py-2.5 rounded-lg text-white text-sm items-center flex gap-x-2 hover:bg-slate-200 hover:text-slate-800 focus:ring-gray-800",children:c?"Updating agent...":"Update workspace agent"})]})})}function Ot(){return e.jsx("div",{id:"workspace-agent-settings-container",children:e.jsxs("div",{className:"w-1/2 flex flex-col gap-y-6",children:[e.jsx(R,{height:100,width:"100%",count:2,highlightColor:"var(--theme-bg-primary)",baseColor:"var(--theme-bg-secondary)",enableAnimation:!0,containerClassName:"flex flex-col gap-y-1"}),e.jsx("div",{className:"bg-white/10 h-[1px] w-full"}),e.jsx(R,{height:100,width:"100%",count:2,highlightColor:"var(--theme-bg-primary)",baseColor:"var(--theme-bg-secondary)",enableAnimation:!0,containerClassName:"flex flex-col gap-y-1 mt-4"})]})})}const Vt={"general-appearance":Be,"chat-settings":mt,"vector-database":vt,members:St,"agent-config":Pt};function as(){const{loading:t,requiresAuth:s,mode:a}=fe();return t?e.jsx(le,{}):s!==!1?e.jsx(e.Fragment,{children:s!==null&&e.jsx(ge,{mode:a})}):e.jsx(zt,{})}function zt(){const{t}=N(),{slug:s,tab:a}=U(),{user:r}=re(),[n,l]=o.useState(null),[c,d]=o.useState(!0);if(o.useEffect(()=>{async function u(){if(!s)return;const m=await M.bySlug(s);if(!m){d(!1);return}const x=await L.keys(),p=await M.getSuggestedMessages(s);l({...m,vectorDB:x==null?void 0:x.VectorDB,suggestedMessages:p}),d(!1)}u()},[s,a]),c)return e.jsx(le,{});const i=Vt[a];return e.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-theme-bg-container flex",children:[!B&&e.jsx(je,{}),e.jsxs("div",{style:{height:B?"100%":"calc(100% - 32px)"},className:"transition-all duration-500 relative md:ml-[2px] md:mr-[16px] md:my-[16px] md:rounded-[16px] bg-theme-bg-secondary w-full h-full overflow-y-scroll",children:[e.jsxs("div",{className:"flex gap-x-10 pt-6 pb-4 ml-16 mr-8 border-b-2 border-white border-opacity-10",children:[e.jsx(V,{to:C.workspace.chat(s),className:"absolute top-2 left-2 md:top-4 md:left-4 transition-all duration-300 p-2 rounded-full text-white bg-theme-sidebar-footer-icon hover:bg-theme-sidebar-footer-icon-hover z-10",children:e.jsx(ye,{className:"h-5 w-5",weight:"fill"})}),e.jsx(D,{title:t("workspaces—settings.general"),icon:e.jsx(ve,{className:"h-6 w-6"}),to:C.workspace.settings.generalAppearance(s)}),e.jsx(D,{title:t("workspaces—settings.chat"),icon:e.jsx(de,{className:"h-6 w-6"}),to:C.workspace.settings.chatSettings(s)}),e.jsx(D,{title:t("workspaces—settings.vector"),icon:e.jsx(we,{className:"h-6 w-6"}),to:C.workspace.settings.vectorDatabase(s)}),e.jsx(D,{title:t("workspaces—settings.members"),icon:e.jsx(ue,{className:"h-6 w-6"}),to:C.workspace.settings.members(s),visible:["admin","manager"].includes(r==null?void 0:r.role)}),e.jsx(D,{title:t("workspaces—settings.agent"),icon:e.jsx(Ne,{className:"h-6 w-6"}),to:C.workspace.settings.agentConfig(s)})]}),e.jsx("div",{className:"px-16 py-6",children:e.jsx(i,{slug:s,workspace:n})})]})]})}function D({title:t,icon:s,to:a,visible:r=!0}){return r?e.jsxs(be,{to:a,className:({isActive:n})=>`${n?"text-sky-400 pb-4 border-b-[4px] -mb-[19px] border-sky-400":"text-white/60 hover:text-sky-400"}  flex gap-x-2 items-center font-medium`,children:[s,e.jsx("div",{children:t})]}):null}export{as as default};
