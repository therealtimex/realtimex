import{R as n,r as c,g as G,j as e,w as et,h as oe,n as tt,o as at,M as lt,k as nt,q as st,i as M,S as H,s as E,t as rt,p as ne,F as it,L as Se,v as ot}from"../index.js";import{I as Ke,w as Q,S as ct}from"./index-af9073a4.js";import{A as z}from"./admin-40631925.js";import{I as dt}from"./CaretLeft-1ab579a1.js";import{l as ce}from"./CaretRight-731d83f5.js";import{w as se}from"./Plug-7d951c7d.js";import{C as mt}from"./index-ab9a9c60.js";import{D as ut,c as ht}from"./types-fb94b3ea.js";import{D as xt}from"./CaretUpDown-676a7767.js";import{I as pt}from"./WarningOctagon-a3e1309f.js";import{I as ft}from"./Brain-24e386d5.js";import{I as gt,A as de}from"./agentFlows-a4b3f736.js";import{I as bt}from"./File-b92df2f3.js";import"./Globe-1f44e45d.js";import"./index-0f62630d.js";import"./Warning-8bf71f60.js";const vt=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M224,196h-4V40a12,12,0,0,0-12-12H152a12,12,0,0,0-12,12V76H96A12,12,0,0,0,84,88v36H48a12,12,0,0,0-12,12v60H32a12,12,0,0,0,0,24H224a12,12,0,0,0,0-24ZM164,52h32V196H164Zm-56,48h32v96H108ZM60,148H84v48H60Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,40V208H152V40Z",opacity:"0.2"}),n.createElement("path",{d:"M224,200h-8V40a8,8,0,0,0-8-8H152a8,8,0,0,0-8,8V80H96a8,8,0,0,0-8,8v40H48a8,8,0,0,0-8,8v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16ZM160,48h40V200H160ZM104,96h40V200H104ZM56,144H88v56H56Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1,0-16h8V136a8,8,0,0,1,8-8H72a8,8,0,0,1,8,8v64H96V88a8,8,0,0,1,8-8h32a8,8,0,0,1,8,8V200h16V40a8,8,0,0,1,8-8h40a8,8,0,0,1,8,8V200h8A8,8,0,0,1,232,208Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M224,202H214V40a6,6,0,0,0-6-6H152a6,6,0,0,0-6,6V82H96a6,6,0,0,0-6,6v42H48a6,6,0,0,0-6,6v66H32a6,6,0,0,0,0,12H224a6,6,0,0,0,0-12ZM158,46h44V202H158ZM102,94h44V202H102ZM54,142H90v60H54Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M224,200h-8V40a8,8,0,0,0-8-8H152a8,8,0,0,0-8,8V80H96a8,8,0,0,0-8,8v40H48a8,8,0,0,0-8,8v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16ZM160,48h40V200H160ZM104,96h40V200H104ZM56,144H88v56H56Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M224,204H212V40a4,4,0,0,0-4-4H152a4,4,0,0,0-4,4V84H96a4,4,0,0,0-4,4v44H48a4,4,0,0,0-4,4v68H32a4,4,0,0,0,0,8H224a4,4,0,0,0,0-8ZM156,44h48V204H156ZM100,92h48V204H100ZM52,140H92v64H52Z"}))]]);var yt=Object.defineProperty,jt=Object.defineProperties,wt=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,Fe=(t,a,l)=>a in t?yt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,At=(t,a)=>{for(var l in a||(a={}))Nt.call(a,l)&&Fe(t,l,a[l]);if(Ee)for(var l of Ee(a))kt.call(a,l)&&Fe(t,l,a[l]);return t},St=(t,a)=>jt(t,wt(a));const Qe=c.forwardRef((t,a)=>n.createElement(G,St(At({ref:a},t),{weights:vt})));Qe.displayName="ChartBar";const Et=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216.49,79.52l-56-56A12,12,0,0,0,152,20H56A20,20,0,0,0,36,40V216a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V88A12,12,0,0,0,216.49,79.52ZM183,80H160V57ZM60,212V44h76V92a12,12,0,0,0,12,12h48V212Zm96.48-48.49a36,36,0,1,0-17,17l12,12a12,12,0,0,0,17-17ZM112,148a12,12,0,1,1,12,12A12,12,0,0,1,112,148Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M208,88H152V32Z",opacity:"0.2"}),n.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-45.54-48.85a36.05,36.05,0,1,0-11.31,11.31l11.19,11.2a8,8,0,0,0,11.32-11.32ZM104,148a20,20,0,1,1,20,20A20,20,0,0,1,104,148Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M144,148a20,20,0,1,1-20-20A20,20,0,0,1,144,148Zm72-60V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24h96a8,8,0,0,1,5.66,2.34l56,56A8,8,0,0,1,216,88Zm-50.34,90.34-11.2-11.19a36.05,36.05,0,1,0-11.31,11.31l11.19,11.2a8,8,0,0,0,11.32-11.32ZM196,88,152,44V88Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M212.24,83.76l-56-56A6,6,0,0,0,152,26H56A14,14,0,0,0,42,40V216a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V88A6,6,0,0,0,212.24,83.76ZM158,46.48,193.52,82H158ZM200,218H56a2,2,0,0,1-2-2V40a2,2,0,0,1,2-2h90V88a6,6,0,0,0,6,6h50V216A2,2,0,0,1,200,218Zm-48.11-50.59a34.05,34.05,0,1,0-8.48,8.48l12.35,12.35a6,6,0,0,0,8.48-8.48ZM102,148a22,22,0,1,1,22,22A22,22,0,0,1,102,148Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Zm-45.54-48.85a36.05,36.05,0,1,0-11.31,11.31l11.19,11.2a8,8,0,0,0,11.32-11.32ZM104,148a20,20,0,1,1,20,20A20,20,0,0,1,104,148Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M210.83,85.17l-56-56A4,4,0,0,0,152,28H56A12,12,0,0,0,44,40V216a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V88A4,4,0,0,0,210.83,85.17ZM156,41.65,198.34,84H156ZM200,220H56a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h92V88a4,4,0,0,0,4,4h52V216A4,4,0,0,1,200,220Zm-50.74-52.39a32.05,32.05,0,1,0-5.65,5.65l13.56,13.57a4,4,0,0,0,5.66-5.66ZM100,148a24,24,0,1,1,24,24A24,24,0,0,1,100,148Z"}))]]);var Ft=Object.defineProperty,Ct=Object.defineProperties,Zt=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable,Ze=(t,a,l)=>a in t?Ft(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,Mt=(t,a)=>{for(var l in a||(a={}))Lt.call(a,l)&&Ze(t,l,a[l]);if(Ce)for(var l of Ce(a))_t.call(a,l)&&Ze(t,l,a[l]);return t},Ht=(t,a)=>Ct(t,Zt(a));const We=c.forwardRef((t,a)=>n.createElement(G,Ht(Mt({ref:a},t),{weights:Et})));We.displayName="FileMagnifyingGlass";const Ot=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M248.49,71.51l-32-32a12,12,0,0,0-17,17L211,68h-3c-52,0-64.8,30.71-75.08,55.38-8.82,21.17-15.45,37.05-42.75,40.09a44,44,0,1,0,.28,24.08c43.34-3.87,55.07-32,64.63-54.93C164.9,109,172,92,208,92h3l-11.52,11.51a12,12,0,0,0,17,17l32-32A12,12,0,0,0,248.49,71.51ZM48,196a20,20,0,1,1,20-20A20,20,0,0,1,48,196Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M80,176a32,32,0,1,1-32-32A32,32,0,0,1,80,176Z",opacity:"0.2"}),n.createElement("path",{d:"M245.66,74.34l-32-32a8,8,0,0,0-11.32,11.32L220.69,72H208c-49.33,0-61.05,28.12-71.38,52.92-9.38,22.51-16.92,40.59-49.48,42.84a40,40,0,1,0,.1,16c43.26-2.65,54.34-29.15,64.14-52.69C161.41,107,169.33,88,208,88h12.69l-18.35,18.34a8,8,0,0,0,11.32,11.32l32-32A8,8,0,0,0,245.66,74.34ZM48,200a24,24,0,1,1,24-24A24,24,0,0,1,48,200Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M245.66,85.66l-32,32a8,8,0,0,1-11.32-11.32L220.69,88H208c-38.67,0-46.59,19-56.62,43.08C141.05,155.88,129.33,184,80,184H79a32,32,0,1,1,0-16h1c38.67,0,46.59-19,56.62-43.08C147,100.12,158.67,72,208,72h12.69L202.34,53.66a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,245.66,85.66Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M244.24,75.76l-32-32a6,6,0,0,0-8.48,8.48L225.51,74H208c-48,0-59.44,27.46-69.54,51.69-9.43,22.64-17.66,42.33-53,44.16a38,38,0,1,0,.06,12c43.34-2.06,54.29-28.29,64-51.55C159.44,106.53,168,86,208,86h17.51l-21.75,21.76a6,6,0,1,0,8.48,8.48l32-32A6,6,0,0,0,244.24,75.76ZM48,202a26,26,0,1,1,26-26A26,26,0,0,1,48,202Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M245.66,74.34l-32-32a8,8,0,0,0-11.32,11.32L220.69,72H208c-49.33,0-61.05,28.12-71.38,52.92-9.38,22.51-16.92,40.59-49.48,42.84a40,40,0,1,0,.1,16c43.26-2.65,54.34-29.15,64.14-52.69C161.41,107,169.33,88,208,88h12.69l-18.35,18.34a8,8,0,0,0,11.32,11.32l32-32A8,8,0,0,0,245.66,74.34ZM48,200a24,24,0,1,1,24-24A24,24,0,0,1,48,200Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M242.83,77.17l-32-32a4,4,0,0,0-5.66,5.66L230.34,76H208c-46.67,0-57.84,26.81-67.69,50.46-9.46,22.69-18.4,44.16-56.55,45.48a36,36,0,1,0,0,8c43.49-1.42,54.33-27.39,63.91-50.39C157.45,106.12,166.67,84,208,84h22.34l-25.17,25.17a4,4,0,0,0,5.66,5.66l32-32A4,4,0,0,0,242.83,77.17ZM48,204a28,28,0,1,1,28-28A28,28,0,0,1,48,204Z"}))]]);var It=Object.defineProperty,$t=Object.defineProperties,Pt=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable,_e=(t,a,l)=>a in t?It(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,qt=(t,a)=>{for(var l in a||(a={}))Vt.call(a,l)&&_e(t,l,a[l]);if(Le)for(var l of Le(a))Dt.call(a,l)&&_e(t,l,a[l]);return t},zt=(t,a)=>$t(t,Pt(a));const X=c.forwardRef((t,a)=>n.createElement(G,zt(qt({ref:a},t),{weights:Ot})));X.displayName="FlowArrow";const Gt=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M250.18,105.17,186.71,41.25a100.11,100.11,0,0,0-141.43,0l-.13.14L31.37,55.61a12,12,0,1,0,17.24,16.7L62.32,58.16A75.68,75.68,0,0,1,77.49,46.43L119,88,25.85,181.16a20,20,0,0,0,0,28.29l20.69,20.69a20,20,0,0,0,28.28,0L168,137l1.51,1.51h0l23.65,23.66a20,20,0,0,0,28.29,0l28.69-28.7A20,20,0,0,0,250.18,105.17ZM60.68,210.34l-15-15L108,133l15,15ZM140,131l-15-15,19.51-19.51a12,12,0,0,0,0-17L102.24,37.24a75.94,75.94,0,0,1,67.47,20.95l31.44,31.67L178,113l-1.51-1.51a12,12,0,0,0-17,0Zm67.32,11.31L195,130l23.09-23.09,12.3,12.39Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M245.66,129,217,157.66a8,8,0,0,1-11.3,0L168.1,120l-28,28-32-32,28-28L80,31.78a87.81,87.81,0,0,1,98.31,18l67.35,67.89A8,8,0,0,1,245.66,129Z",opacity:"0.2"}),n.createElement("path",{d:"M251.34,112,183.88,44.08a96.1,96.1,0,0,0-135.77,0l-.09.09L34.25,58.4A8,8,0,0,0,45.74,69.53L59.47,55.35a79.92,79.92,0,0,1,18.71-13.9L124.68,88l-96,96a16,16,0,0,0,0,22.63l20.69,20.69a16,16,0,0,0,22.63,0l96-96,14.34,14.34h0L200,163.3a16,16,0,0,0,22.63,0l28.69-28.69A16,16,0,0,0,251.34,112ZM60.68,216,40,195.31l68-68L128.68,148ZM162.34,114.32,140,136.67,119.31,116l22.35-22.35a8,8,0,0,0,0-11.32L94.32,35a80,80,0,0,1,78.23,20.41l44.22,44.51L188,128.66l-14.34-14.34A8,8,0,0,0,162.34,114.32Zm49,37.66-12-12L228,111.25l12,12Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M251.34,112,183.88,44.08a96.1,96.1,0,0,0-135.77,0l-.09.09L34.25,58.4A8,8,0,0,0,45.74,69.53L59.47,55.35a79.92,79.92,0,0,1,18.71-13.9L124.68,88l-96,96a16,16,0,0,0,0,22.63l20.69,20.69a16,16,0,0,0,22.63,0l96-96,32,32a16,16,0,0,0,22.63,0l28.69-28.69A16,16,0,0,0,251.34,112Zm-89,2.33L140,136.67,119.31,116l22.35-22.35a8,8,0,0,0,0-11.32L94.32,35a80,80,0,0,1,78.23,20.41l44.22,44.51L188,128.66l-14.34-14.34A8,8,0,0,0,162.34,114.32Zm49,37.66-12-12L228,111.25l12,12Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M249.92,113.4,182.47,45.49a94.12,94.12,0,0,0-133,.06L35.68,59.78a6,6,0,0,0,8.63,8.35L58,54A82,82,0,0,1,78.55,39l49,49L30.09,185.4a14,14,0,0,0,0,19.81L50.78,225.9a14,14,0,0,0,19.8,0L168,128.46l33.42,33.42a14,14,0,0,0,19.8,0l28.68-28.69A14,14,0,0,0,249.92,113.4ZM62.1,217.41a2,2,0,0,1-2.83,0L38.58,196.72a2,2,0,0,1,0-2.83L108,124.46,131.51,148ZM163.76,115.73,140,139.49,116.48,116l23.76-23.76a6,6,0,0,0,0-8.49L90.54,34A82.07,82.07,0,0,1,174,54l45.62,45.93L188,131.49l-15.76-15.76A6,6,0,0,0,163.76,115.73Zm77.66,9-28.69,28.7a2,2,0,0,1-2.83,0L196.49,140l31.56-31.57,13.37,13.46A2,2,0,0,1,241.42,124.7Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M251.34,112,183.88,44.08a96.1,96.1,0,0,0-135.77,0l-.09.09L34.25,58.4A8,8,0,0,0,45.74,69.53L59.47,55.35a79.92,79.92,0,0,1,18.71-13.9L124.68,88l-96,96a16,16,0,0,0,0,22.63l20.69,20.69a16,16,0,0,0,22.63,0l96-96,14.34,14.34h0L200,163.3a16,16,0,0,0,22.63,0l28.69-28.69A16,16,0,0,0,251.34,112ZM60.68,216,40,195.31l68-68L128.68,148ZM162.34,114.32,140,136.67,119.31,116l22.35-22.35a8,8,0,0,0,0-11.32L94.32,35a80,80,0,0,1,78.23,20.41l44.22,44.51L188,128.66l-14.34-14.34A8,8,0,0,0,162.34,114.32Zm49,37.66-12-12L228,111.25l12,12Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M248.5,114.81,181.05,46.9A92.1,92.1,0,0,0,50.9,47L37.12,61.18a4,4,0,1,0,5.75,5.56L56.6,52.56a83.75,83.75,0,0,1,22.34-16L130.34,88,31.51,186.82a12,12,0,0,0,0,17L52.2,224.48a12,12,0,0,0,17,0L168,125.63l17.17,17.18h0l17.66,17.66a12,12,0,0,0,17,0l28.69-28.69A12,12,0,0,0,248.5,114.81Zm-185,104a4,4,0,0,1-5.66,0L37.17,198.14a4,4,0,0,1,0-5.66L108,121.63,134.34,148ZM165.17,117.15,140,142.32,113.65,116,138.83,90.8a4,4,0,0,0,0-5.66l-52-52a84.11,84.11,0,0,1,88.52,19.38l47,47.35L188,134.32l-17.17-17.17A4,4,0,0,0,165.17,117.15Zm77.66,9-28.68,28.69a4,4,0,0,1-5.66,0L193.66,140l34.39-34.4,14.78,14.88A4,4,0,0,1,242.83,126.12Z"}))]]);var Rt=Object.defineProperty,Bt=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Kt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,He=(t,a,l)=>a in t?Rt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,Wt=(t,a)=>{for(var l in a||(a={}))Kt.call(a,l)&&He(t,l,a[l]);if(Me)for(var l of Me(a))Qt.call(a,l)&&He(t,l,a[l]);return t},Ut=(t,a)=>Bt(t,Tt(a));const re=c.forwardRef((t,a)=>n.createElement(G,Ut(Wt({ref:a},t),{weights:Gt})));re.displayName="Hammer";const Xt=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64Zm12,76h64a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24Zm80,40H40a12,12,0,0,0,0,24h80a12,12,0,0,0,0-24Zm120.49,20.49a12,12,0,0,1-17,0l-18.08-18.08a44,44,0,1,1,17-17l18.08,18.07A12,12,0,0,1,240.49,200.49ZM184,164a20,20,0,1,0-20-20A20,20,0,0,0,184,164Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M216,144a32,32,0,1,1-32-32A32,32,0,0,1,216,144Z",opacity:"0.2"}),n.createElement("path",{d:"M32,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H40A8,8,0,0,1,32,64Zm8,72h72a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Zm88,48H40a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm109.66,13.66a8,8,0,0,1-11.32,0L206,177.36A40,40,0,1,1,217.36,166l20.3,20.3A8,8,0,0,1,237.66,197.66ZM184,168a24,24,0,1,0-24-24A24,24,0,0,0,184,168Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M32,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H40A8,8,0,0,1,32,64Zm8,72h72a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Zm88,48H40a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm109.66,2.34L217.36,166A40,40,0,1,0,206,177.36l20.3,20.3a8,8,0,0,0,11.32-11.32Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M34,64a6,6,0,0,1,6-6H216a6,6,0,0,1,0,12H40A6,6,0,0,1,34,64Zm6,70h72a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12Zm88,52H40a6,6,0,0,0,0,12h88a6,6,0,0,0,0-12Zm108.24,10.24a6,6,0,0,1-8.48,0l-21.49-21.48a38.06,38.06,0,1,1,8.49-8.49l21.48,21.49A6,6,0,0,1,236.24,196.24ZM184,170a26,26,0,1,0-26-26A26,26,0,0,0,184,170Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M32,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H40A8,8,0,0,1,32,64Zm8,72h72a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Zm88,48H40a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm109.66,13.66a8,8,0,0,1-11.32,0L206,177.36A40,40,0,1,1,217.36,166l20.3,20.3A8,8,0,0,1,237.66,197.66ZM184,168a24,24,0,1,0-24-24A24,24,0,0,0,184,168Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M36,64a4,4,0,0,1,4-4H216a4,4,0,0,1,0,8H40A4,4,0,0,1,36,64Zm4,68h72a4,4,0,0,0,0-8H40a4,4,0,0,0,0,8Zm88,56H40a4,4,0,0,0,0,8h88a4,4,0,0,0,0-8Zm106.83,6.83a4,4,0,0,1-5.66,0l-22.72-22.72a36.06,36.06,0,1,1,5.66-5.66l22.72,22.72A4,4,0,0,1,234.83,194.83ZM184,172a28,28,0,1,0-28-28A28,28,0,0,0,184,172Z"}))]]);var Yt=Object.defineProperty,Jt=Object.defineProperties,ea=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable,Ie=(t,a,l)=>a in t?Yt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,la=(t,a)=>{for(var l in a||(a={}))ta.call(a,l)&&Ie(t,l,a[l]);if(Oe)for(var l of Oe(a))aa.call(a,l)&&Ie(t,l,a[l]);return t},na=(t,a)=>Jt(t,ea(a));const Ue=c.forwardRef((t,a)=>n.createElement(G,na(la({ref:a},t),{weights:Xt})));Ue.displayName="ListMagnifyingGlass";function sa(t){return t.toLowerCase()}var ra=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],ia=/[^A-Z0-9]+/gi;function oa(t,a){a===void 0&&(a={});for(var l=a.splitRegexp,r=l===void 0?ra:l,i=a.stripRegexp,s=i===void 0?ia:i,o=a.transform,x=o===void 0?sa:o,g=a.delimiter,j=g===void 0?" ":g,m=$e($e(t,r,"$1\0$2"),s,"\0"),u=0,d=m.length;m.charAt(u)==="\0";)u++;for(;m.charAt(d-1)==="\0";)d--;return m.slice(u,d).split("\0").map(x).join(j)}function $e(t,a,l){return a instanceof RegExp?t.replace(a,l):a.reduce(function(r,i){return r.replace(i,l)},t)}function ca(t){return t.charAt(0).toUpperCase()+t.substr(1)}var ie=globalThis&&globalThis.__assign||function(){return ie=Object.assign||function(t){for(var a,l=1,r=arguments.length;l<r;l++){a=arguments[l];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},ie.apply(this,arguments)};function da(t,a){var l=t.toLowerCase();return a===0?ca(l):l}function Xe(t,a){return a===void 0&&(a={}),oa(t,ie({delimiter:" ",transform:da},a))}const ma="/google.png",ua="/searchapi.png",ha="/serper.png",xa="/bing.png",pa="/serply.png",fa="/searxng.png",ga="/tavily.svg",ba="/duckduckgo.png";function va({provider:t,checked:a,onClick:l}){const{name:r,value:i,logo:s,description:o}=t;return e.jsxs("div",{onClick:l,className:`w-full p-2 rounded-md hover:cursor-pointer hover:bg-theme-bg-secondary ${a?"bg-theme-bg-secondary":""}`,children:[e.jsx("input",{type:"checkbox",value:i,className:"peer hidden",checked:a,readOnly:!0,formNoValidate:!0}),e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:s,alt:`${r} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:r}),e.jsx("div",{className:"mt-1 text-xs text-description",children:o})]})]})]})}const Ye="/scrape-websites.png";function ya({settings:t}){return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-white/60 my-2",children:["You can get a free search engine & API key"," ",e.jsx("a",{href:"https://programmablesearchengine.google.com/controlpanel/create",target:"_blank",rel:"noreferrer",className:"text-blue-300 underline",children:"from Google here."})]}),e.jsxs("div",{className:"flex gap-x-4",children:[e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Search engine ID"}),e.jsx("input",{type:"text",name:"env::AgentGoogleSearchEngineId",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"Google Search Engine Id",defaultValue:t==null?void 0:t.AgentGoogleSearchEngineId,required:!0,autoComplete:"off",spellCheck:!1})]}),e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Programmatic Access API Key"}),e.jsx("input",{type:"password",name:"env::AgentGoogleSearchEngineKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"Google Search Engine API Key",defaultValue:t!=null&&t.AgentGoogleSearchEngineKey?"*".repeat(20):"",required:!0,autoComplete:"off",spellCheck:!1})]})]})]})}const ja=[{name:"Google Search",value:"google"},{name:"Google Maps",value:"google_maps"},{name:"Google Shopping",value:"google_shopping"},{name:"Google News",value:"google_news"},{name:"Google Jobs",value:"google_jobs"},{name:"Google Scholar",value:"google_scholar"},{name:"Google Finance",value:"google_finance"},{name:"Google Patents",value:"google_patents"},{name:"YouTube",value:"youtube"},{name:"Bing",value:"bing"},{name:"Bing News",value:"bing_news"},{name:"Amazon Product Search",value:"amazon_search"},{name:"Baidu",value:"baidu"}];function wa({settings:t}){return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-white/60 my-2",children:["You can get a free API key"," ",e.jsx("a",{href:"https://www.searchapi.io/",target:"_blank",rel:"noreferrer",className:"text-blue-300 underline",children:"from SearchApi."})]}),e.jsxs("div",{className:"flex gap-x-4",children:[e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"API Key"}),e.jsx("input",{type:"password",name:"env::AgentSearchApiKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"SearchApi API Key",defaultValue:t!=null&&t.AgentSearchApiKey?"*".repeat(20):"",required:!0,autoComplete:"off",spellCheck:!1})]}),e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"Engine"}),e.jsx("select",{name:"env::AgentSearchApiEngine",required:!0,className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",defaultValue:(t==null?void 0:t.AgentSearchApiEngine)||"google",children:ja.map(({name:a,value:l})=>e.jsx("option",{value:l,children:a},a))})]})]})]})}function Na({settings:t}){return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-white/60 my-2",children:["You can get a free API key"," ",e.jsx("a",{href:"https://serper.dev",target:"_blank",rel:"noreferrer",className:"text-blue-300 underline",children:"from Serper.dev."})]}),e.jsx("div",{className:"flex gap-x-4",children:e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"API Key"}),e.jsx("input",{type:"password",name:"env::AgentSerperApiKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"Serper.dev API Key",defaultValue:t!=null&&t.AgentSerperApiKey?"*".repeat(20):"",required:!0,autoComplete:"off",spellCheck:!1})]})})]})}function ka({settings:t}){return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-white/60 my-2",children:["You can get a Bing Web Search API subscription key"," ",e.jsx("a",{href:"https://portal.azure.com/",target:"_blank",rel:"noreferrer",className:"text-blue-300 underline",children:"from the Azure portal."})]}),e.jsx("div",{className:"flex gap-x-4",children:e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"API Key"}),e.jsx("input",{type:"password",name:"env::AgentBingSearchApiKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"Bing Web Search API Key",defaultValue:t!=null&&t.AgentBingSearchApiKey?"*".repeat(20):"",required:!0,autoComplete:"off",spellCheck:!1})]})}),e.jsx("p",{className:"text-sm text-white/60 my-2",children:"To set up a Bing Web Search API subscription:"}),e.jsxs("ol",{className:"list-decimal text-sm text-white/60 ml-6",children:[e.jsxs("li",{children:["Go to the Azure portal:"," ",e.jsx("a",{href:"https://portal.azure.com/",target:"_blank",rel:"noreferrer",className:"text-blue-300 underline",children:"https://portal.azure.com/"})]}),e.jsx("li",{children:"Create a new Azure account or sign in with an existing one."}),e.jsx("li",{children:'Navigate to the "Create a resource" section and search for "Bing Search v7".'}),e.jsx("li",{children:'Select the "Bing Search v7" resource and create a new subscription.'}),e.jsx("li",{children:"Choose the pricing tier that suits your needs (free tier available)."}),e.jsx("li",{children:"Obtain the API key for your Bing Web Search subscription."})]})]})}function Aa({settings:t}){return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-white/60 my-2",children:["You can get a free API key"," ",e.jsx("a",{href:"https://serply.io",target:"_blank",rel:"noreferrer",className:"text-blue-300 underline",children:"from Serply.io."})]}),e.jsx("div",{className:"flex gap-x-4",children:e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"API Key"}),e.jsx("input",{type:"password",name:"env::AgentSerplyApiKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"Serply API Key",defaultValue:t!=null&&t.AgentSerplyApiKey?"*".repeat(20):"",required:!0,autoComplete:"off",spellCheck:!1})]})})]})}function Sa({settings:t}){return e.jsx("div",{className:"flex gap-x-4",children:e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"SearXNG API Base URL"}),e.jsx("input",{type:"url",name:"env::AgentSearXNGApiUrl",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"SearXNG API Base URL",defaultValue:t==null?void 0:t.AgentSearXNGApiUrl,required:!0,autoComplete:"off",spellCheck:!1})]})})}function Ea({settings:t}){return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-white/60 my-2",children:["You can get an API key"," ",e.jsx("a",{href:"https://tavily.com/",target:"_blank",rel:"noreferrer",className:"text-blue-300 underline",children:"from Tavily."})]}),e.jsx("div",{className:"flex gap-x-4",children:e.jsxs("div",{className:"flex flex-col w-60",children:[e.jsx("label",{className:"text-white text-sm font-semibold block mb-3",children:"API Key"}),e.jsx("input",{type:"password",name:"env::AgentTavilyApiKey",className:"border-none bg-theme-settings-input-bg text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"Tavily API Key",defaultValue:t!=null&&t.AgentTavilyApiKey?"*".repeat(20):"",required:!0,autoComplete:"off",spellCheck:!1})]})})]})}function Fa(){return e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-sm text-white/60 my-2",children:"DuckDuckGo is ready to use without any additional configuration."})})}const Pe=[{name:"Please make a selection",value:"none",logo:tt,options:()=>e.jsx(n.Fragment,{}),description:"Web search will be disabled until a provider and keys are provided."},{name:"DuckDuckGo",value:"duckduckgo-engine",logo:ba,options:()=>e.jsx(Fa,{}),description:"Free and privacy-focused web search using DuckDuckGo's HTML interface."},{name:"Google Search Engine",value:"google-search-engine",logo:ma,options:t=>e.jsx(ya,{settings:t}),description:"Web search powered by a custom Google Search Engine. Free for 100 queries per day."},{name:"SearchApi",value:"searchapi",logo:ua,options:t=>e.jsx(wa,{settings:t}),description:"SearchApi delivers structured data from multiple search engines. Free for 100 queries, but then paid. "},{name:"Serper.dev",value:"serper-dot-dev",logo:ha,options:t=>e.jsx(Na,{settings:t}),description:"Serper.dev web-search. Free account with a 2,500 calls, but then paid."},{name:"Bing Search",value:"bing-search",logo:xa,options:t=>e.jsx(ka,{settings:t}),description:"Web search powered by the Bing Search API. Free for 1000 queries per month."},{name:"Serply.io",value:"serply-engine",logo:pa,options:t=>e.jsx(Aa,{settings:t}),description:"Serply.io web-search. Free account with a 100 calls/month forever."},{name:"SearXNG",value:"searxng-engine",logo:fa,options:t=>e.jsx(Sa,{settings:t}),description:"Free, open-source, internet meta-search engine with no tracking."},{name:"Tavily Search",value:"tavily-search",logo:ga,options:t=>e.jsx(Ea,{settings:t}),description:"Tavily Search API. Offers a free tier with 1000 queries per month."}];function Ca({skill:t,settings:a,toggleSkill:l,enabled:r=!1,setHasChanges:i}){const s=c.useRef(null),[o,x]=c.useState([]),[g,j]=c.useState("none"),[m,u]=c.useState(""),[d,b]=c.useState(!1);function v(p){u(""),j(p),b(!1),i(!0)}function y(){m.length>0?(u(""),s.current&&(s.current.value="")):b(!d)}c.useEffect(()=>{const p=Pe.filter(F=>F.name.toLowerCase().includes(m.toLowerCase()));x(p)},[m,g]),c.useEffect(()=>{z.systemPreferencesByFields(["agent_search_provider"]).then(p=>{var F,A;return j((A=(F=p==null?void 0:p.settings)==null?void 0:F.agent_search_provider)!=null?A:"none")}).catch(()=>j("none"))},[]);const N=Pe.find(p=>p.value===g);return e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-y-[18px] max-w-[500px]",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(Ue,{size:24,color:"var(--theme-text-primary)",weight:"bold"}),e.jsx("label",{htmlFor:"name",className:"text-theme-text-primary text-md font-bold",children:"Live web search and browsing"}),e.jsxs("label",{className:"border-none relative inline-flex items-center ml-auto cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"peer sr-only",checked:r,onChange:()=>l(t)}),e.jsx("div",{className:"peer-disabled:opacity-50 pointer-events-none peer h-6 w-11 rounded-full bg-[#CFCFD0] after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:shadow-xl after:border-none after:bg-white after:box-shadow-md after:transition-all after:content-[''] peer-checked:bg-[#32D583] peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-transparent"}),e.jsx("span",{className:"ml-3 text-sm font-medium"})]})]}),e.jsx("img",{src:Ye,alt:"Web Search",className:"w-full rounded-md"}),e.jsx("p",{className:"text-theme-text-secondary text-opacity-60 text-xs font-medium py-1.5",children:"Enable your agent to search the web to answer your questions by connecting to a web-search (SERP) provider. Web search during agent sessions will not work until this is set up."}),e.jsxs("div",{hidden:!r,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"hidden",name:"system::agent_search_provider",value:g}),d&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 backdrop-blur-sm z-10",onClick:()=>b(!1)}),d?e.jsx("div",{className:"absolute top-0 left-0 w-full max-w-[640px] max-h-[310px] overflow-auto white-scrollbar min-h-[64px] bg-theme-settings-input-bg rounded-lg flex flex-col justify-between cursor-pointer border-2 border-primary-button z-20",children:e.jsxs("div",{className:"w-full flex flex-col gap-y-1",children:[e.jsxs("div",{className:"flex items-center sticky top-0 border-b border-[#9CA3AF] mx-4 bg-theme-settings-input-bg",children:[e.jsx(et,{size:20,weight:"bold",className:"absolute left-4 z-30 text-theme-text-primary -ml-4 my-2"}),e.jsx("input",{type:"text",name:"web-provider-search",autoComplete:"off",placeholder:"Search available web-search providers",className:"border-none -ml-4 my-2 bg-transparent z-20 pl-12 h-[38px] w-full px-4 py-1 text-sm outline-none text-theme-text-primary placeholder:text-theme-text-primary placeholder:font-medium",onChange:p=>u(p.target.value),ref:s,onKeyDown:p=>{p.key==="Enter"&&p.preventDefault()}}),e.jsx(oe,{size:20,weight:"bold",className:"cursor-pointer text-white hover:text-x-button",onClick:y})]}),e.jsx("div",{className:"flex-1 pl-4 pr-2 flex flex-col gap-y-1 overflow-y-auto white-scrollbar pb-4",children:o.map(p=>e.jsx(va,{provider:p,checked:g===p.value,onClick:()=>v(p.value)},p.name))})]})}):e.jsxs("button",{className:"w-full max-w-[640px] h-[64px] bg-theme-settings-input-bg rounded-lg flex items-center p-[14px] justify-between cursor-pointer border-2 border-transparent hover:border-primary-button transition-all duration-300",type:"button",onClick:()=>b(!0),children:[e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:N.logo,alt:`${N.name} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:N.name}),e.jsx("div",{className:"mt-1 text-xs text-description",children:N.description})]})]}),e.jsx(xt,{size:24,weight:"bold",className:"text-white"})]})]}),g!=="none"&&e.jsx("div",{className:"mt-4 flex flex-col gap-y-1",children:N.options(a)})]})]})})}const Za="/postgresql.png",La="/mysql.png",_a="/mssql.png",U={postgresql:Za,mysql:La,"sql-server":_a};function Ma({connection:t,onRemove:a,setHasChanges:l}){var o;const{database_id:r,engine:i}=t;function s(){if(!window.confirm(`Delete ${r} from the list of available SQL connections? This cannot be undone.`))return!1;a(r),l(!0)}return e.jsxs("div",{className:"flex gap-x-4 items-center",children:[e.jsx("img",{src:(o=U==null?void 0:U[i])!=null?o:null,alt:`${i} logo`,className:"w-10 h-10 rounded-md"}),e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:r}),e.jsx("div",{className:"mt-1 text-xs text-description",children:i})]}),e.jsx("button",{type:"button",onClick:s,className:"border-none text-white hover:text-red-500",children:e.jsx(oe,{size:24})})]})]})}function Ve({engine:t,username:a="",password:l="",host:r="",port:i="",database:s=""}){if([a,l,r,s].every(o=>!!o)===!1)return"Please fill out all the fields above.";switch(t){case"postgresql":return`postgres://${a}:${l}@${r}:${i}/${s}`;case"mysql":return`mysql://${a}:${l}@${r}:${i}/${s}`;case"sql-server":return`mssql://${a}:${l}@${r}:${i}/${s}`;default:return null}}const De="postgresql",qe={username:null,password:null,host:null,port:null,database:null};function Ha({isOpen:t,closeModal:a,onSubmit:l}){const[r,i]=c.useState(De),[s,o]=c.useState(qe);if(!t)return null;function x(){i(De),o(qe),a()}function g(){const m=new FormData(document.getElementById("sql-connection-form"));o({username:m.get("username").trim(),password:m.get("password"),host:m.get("host").trim(),port:m.get("port").trim(),database:m.get("database").trim()})}async function j(m){m.preventDefault(),m.stopPropagation();const u=new FormData(m.target);return l({engine:r,database_id:u.get("name"),connectionString:Ve({engine:r,...s})}),x(),!1}return at.createPortal(e.jsx(lt,{isOpen:t,children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full max-w-2xl bg-theme-bg-secondary rounded-lg shadow border-2 border-theme-modal-border",children:[e.jsxs("div",{className:"relative p-6 border-b rounded-t border-theme-modal-border",children:[e.jsx("div",{className:"w-full flex gap-x-2 items-center",children:e.jsx("h3",{className:"text-xl font-semibold text-white overflow-hidden overflow-ellipsis whitespace-nowrap",children:"New SQL Connection"})}),e.jsx("button",{onClick:x,type:"button",className:"absolute top-4 right-4 transition-all duration-300 bg-transparent rounded-lg text-sm p-1 inline-flex items-center hover:bg-theme-modal-border hover:border-theme-modal-border hover:border-opacity-50 border-transparent border",children:e.jsx(oe,{size:24,weight:"bold",className:"text-white"})})]}),e.jsxs("form",{id:"sql-connection-form",onSubmit:j,onChange:g,children:[e.jsx("div",{className:"px-7 py-6",children:e.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:[e.jsx("p",{className:"text-sm text-white/60",children:"Add the connection information for your database below and it will be available for future SQL agent calls."}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("div",{className:"border border-red-800 bg-zinc-800 light:bg-red-200/50 p-4 rounded-lg flex items-center gap-x-2 text-sm text-red-400 light:text-red-500",children:[e.jsx(pt,{size:28,className:"shrink-0"}),e.jsxs("p",{children:[e.jsx("b",{children:"WARNING:"})," The SQL agent has been ",e.jsx("i",{children:"instructed"})," ","to only perform non-modifying queries. This"," ",e.jsx("b",{children:"does not"})," prevent a hallucination from still deleting data. Only connect with a user who has"," ",e.jsx("b",{children:"READ_ONLY"})," permissions."]})]}),e.jsx("label",{className:"block mb-2 text-sm font-medium text-white mt-4",children:"Select your SQL engine"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 grid-cols-2",children:[e.jsx(ee,{provider:"postgresql",active:r==="postgresql",onClick:()=>i("postgresql")}),e.jsx(ee,{provider:"mysql",active:r==="mysql",onClick:()=>i("mysql")}),e.jsx(ee,{provider:"sql-server",active:r==="sql-server",onClick:()=>i("sql-server")})]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Connection name"}),e.jsx("input",{type:"text",name:"name",className:"border-none bg-theme-settings-input-bg w-full text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"a unique name to identify this SQL connection",required:!0,autoComplete:"off",spellCheck:!1})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Database user"}),e.jsx("input",{type:"text",name:"username",className:"border-none bg-theme-settings-input-bg w-full text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"root",required:!0,autoComplete:"off",spellCheck:!1})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Database user password"}),e.jsx("input",{type:"text",name:"password",className:"border-none bg-theme-settings-input-bg w-full text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"password123",required:!0,autoComplete:"off",spellCheck:!1})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Server endpoint"}),e.jsx("input",{type:"text",name:"host",className:"border-none bg-theme-settings-input-bg w-full text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"the hostname or endpoint for your database",required:!0,autoComplete:"off",spellCheck:!1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Port"}),e.jsx("input",{type:"text",name:"port",className:"border-none bg-theme-settings-input-bg w-full text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"3306",required:!1,autoComplete:"off",spellCheck:!1})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Database"}),e.jsx("input",{type:"text",name:"database",className:"border-none bg-theme-settings-input-bg w-full text-white placeholder:text-theme-settings-input-placeholder text-sm rounded-lg focus:outline-primary-button active:outline-primary-button outline-none block w-full p-2.5",placeholder:"the database the agent will interact with",required:!0,autoComplete:"off",spellCheck:!1})]}),e.jsx("p",{className:"text-theme-text-secondary text-sm",children:Ve({engine:r,...s})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6 border-t border-theme-modal-border px-7 pb-6",children:[e.jsx("button",{type:"button",onClick:x,className:"transition-all duration-300 text-white hover:bg-zinc-700 light:hover:bg-theme-bg-primary px-4 py-2 rounded-lg text-sm",children:"Cancel"}),e.jsx("button",{type:"submit",form:"sql-connection-form",className:"transition-all duration-300 bg-white text-black hover:opacity-60 px-4 py-2 rounded-lg text-sm",children:"Save connection"})]})]})]})})}),document.getElementById("workspace-agent-settings-container"))}function ee({provider:t,active:a,onClick:l}){return e.jsx("button",{type:"button",onClick:l,className:`flex flex-col p-4 border border-white/40 bg-zinc-800 light:bg-theme-settings-input-bg rounded-lg w-fit hover:bg-zinc-700 ${a?"!bg-blue-500/50":""}`,children:e.jsx("img",{src:U[t],className:"h-[100px] rounded-md",alt:t})})}const Oa="/sql-agent.png";function Ia({skill:t,settings:a,toggleSkill:l,enabled:r=!1,setHasChanges:i}){const{isOpen:s,openModal:o,closeModal:x}=nt(),[g,j]=c.useState([]);return c.useEffect(()=>{z.systemPreferencesByFields(["agent_sql_connections"]).then(m=>{var u,d;return j((d=(u=m==null?void 0:m.settings)==null?void 0:u.agent_sql_connections)!=null?d:[])}).catch(()=>j([]))},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-y-[18px] max-w-[500px]",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(ut,{size:24,color:"var(--theme-text-primary)",weight:"bold"}),e.jsx("label",{htmlFor:"name",className:"text-theme-text-primary text-md font-bold",children:"SQL Agent"}),e.jsxs("label",{className:"border-none relative inline-flex items-center ml-auto cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"peer sr-only",checked:r,onChange:()=>l(t)}),e.jsx("div",{className:"peer-disabled:opacity-50 pointer-events-none peer h-6 w-11 rounded-full bg-[#CFCFD0] after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:shadow-xl after:border-none after:bg-white after:box-shadow-md after:transition-all after:content-[''] peer-checked:bg-[#32D583] peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-transparent"}),e.jsx("span",{className:"ml-3 text-sm font-medium"})]})]}),e.jsx("img",{src:Oa,alt:"SQL Agent",className:"w-full rounded-md"}),e.jsx("p",{className:"text-theme-text-secondary text-opacity-60 text-xs font-medium py-1.5",children:"Enable your agent to be able to leverage SQL to answer you questions by connecting to various SQL database providers."}),r&&e.jsxs(e.Fragment,{children:[e.jsx("input",{name:"system::agent_sql_connections",type:"hidden",value:JSON.stringify(g)}),e.jsx("input",{type:"hidden",value:JSON.stringify(g.filter(m=>m.action!=="remove"))}),e.jsxs("div",{className:"flex flex-col mt-2 gap-y-2",children:[e.jsx("p",{className:"text-theme-text-primary font-semibold text-sm",children:"Your database connections"}),e.jsxs("div",{className:"flex flex-col gap-y-3",children:[g.filter(m=>m.action!=="remove").map(m=>e.jsx(Ma,{connection:m,onRemove:u=>{i(!0),j(d=>d.map(b=>b.database_id===u?{...b,action:"remove"}:b))}},m.database_id)),e.jsx("button",{type:"button",onClick:o,className:"w-fit relative flex h-[40px] items-center border-none hover:bg-theme-bg-secondary rounded-lg",children:e.jsxs("div",{className:"flex w-full gap-x-2 items-center p-4",children:[e.jsx("div",{className:"bg-theme-bg-secondary p-2 rounded-lg h-[24px] w-[24px] flex items-center justify-center",children:e.jsx(st,{weight:"bold",size:14,className:"shrink-0 text-theme-text-primary"})}),e.jsx("p",{className:"text-left text-theme-text-primary text-sm",children:"New SQL connection"})]})})]})]})]})]})}),e.jsx(Ha,{isOpen:s,closeModal:x,onSubmit:m=>j(u=>[...u,{action:"add",...m}])})]})}function ze({title:t,description:a,skill:l,toggleSkill:r,enabled:i=!1,disabled:s=!1,image:o,icon:x}){return e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-y-[18px] max-w-[500px]",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[x&&n.createElement(x,{size:24,color:"var(--theme-text-primary)",weight:"bold"}),e.jsx("label",{htmlFor:"name",className:"text-theme-text-primary text-md font-bold",children:t}),e.jsxs("label",{className:`border-none relative inline-flex items-center ml-auto ${s?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("input",{type:"checkbox",disabled:s,className:"peer sr-only",checked:i,onChange:()=>r(l)}),e.jsx("div",{className:"peer-disabled:opacity-50 pointer-events-none peer h-6 w-11 rounded-full bg-[#CFCFD0] after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:shadow-xl after:border-none after:bg-white after:box-shadow-md after:transition-all after:content-[''] peer-checked:bg-[#32D583] peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-transparent"}),e.jsx("span",{className:"ml-3 text-sm font-medium"})]})]}),e.jsx("img",{src:o,alt:t,className:"w-full rounded-md"}),e.jsx("p",{className:"text-theme-text-secondary text-opacity-60 text-xs font-medium py-1.5",children:a})]})})}function Je({title:t}){return e.jsx(e.Fragment,{children:e.jsx("span",{className:"w-fit","data-tooltip-id":"default-skill","data-tooltip-content":"This skill is enabled by default and cannot be turned off.",children:e.jsx("div",{className:"flex items-center gap-x-1 w-fit rounded-full bg-[#F4FFD0]/10 light:bg-blue-100 px-2.5 py-0.5 text-sm font-medium text-sky-400 light:text-theme-text-secondary shadow-sm cursor-pointer",children:e.jsx("div",{className:"text-[#F4FFD0] light:text-blue-600 text-[12px] leading-[15px]",children:"Default"})})})})}function te({title:t,description:a,image:l,icon:r,enabled:i=!0,toggleSkill:s,skill:o}){return e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-y-[18px] max-w-[500px]",children:[e.jsxs("div",{className:"flex w-full justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[r&&n.createElement(r,{size:24,color:"var(--theme-text-primary)",weight:"bold"}),e.jsx("label",{htmlFor:"name",className:"text-theme-text-primary text-md font-bold",children:t}),e.jsx(Je,{title:t})]}),e.jsxs("label",{className:"border-none relative inline-flex items-center ml-auto cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"peer sr-only",checked:i,onChange:()=>s(o)}),e.jsx("div",{className:"peer-disabled:opacity-50 pointer-events-none peer h-6 w-11 rounded-full bg-[#CFCFD0] after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:shadow-xl after:border-none after:bg-white after:box-shadow-md after:transition-all after:content-[''] peer-checked:bg-[#32D583] peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-transparent"}),e.jsx("span",{className:"ml-3 text-sm font-medium"})]})]}),e.jsx("img",{src:l,alt:t,className:"w-full rounded-md"}),e.jsxs("p",{className:"text-theme-text-secondary text-opacity-60 text-xs font-medium py-1.5",children:[a,e.jsx("br",{}),e.jsx("br",{}),"By default, this skill is enabled, but you can disable it if you don't want it to be available to the agent."]})]})})}const $a="/rag-memory.png",Pa="/view-summarize.png",Va="/generate-charts.png",Da="/generate-save-files.png",w={"rag-memory":{title:"RAG & long-term memory",description:'Allow the agent to leverage your local documents to answer a query or ask the agent to "remember" pieces of content for long-term memory retrieval.',component:te,icon:ft,image:$a,skill:"rag-memory"},"document-summarizer":{title:"View & summarize documents",description:"Allow the agent to list and summarize the content of workspace files currently embedded.",component:te,icon:bt,image:Pa,skill:"document-summarizer"},"web-scraping":{title:"Scrape websites",description:"Allow the agent to visit and scrape the content of websites.",component:te,icon:gt,image:Ye,skill:"web-scraping"}},C={"save-file-to-browser":{title:"Generate & save files to browser",description:"Enable the default agent to generate and write to files that can be saved to your computer.",component:ze,skill:"save-file-to-browser",icon:We,image:Da},"create-chart":{title:"Generate charts",description:"Enable the default agent to generate various types of charts from data provided or given in chat.",component:ze,skill:"create-chart",icon:Qe,image:Va},"web-browsing":{title:"Web Search",component:Ca,skill:"web-browsing"},"sql-agent":{title:"SQL Connector",component:Ia,skill:"sql-agent"}};function Ge({skills:t=[],selectedSkill:a=null,handleClick:l=null}){return t.length===0?e.jsxs("div",{className:"text-theme-text-secondary text-center text-xs flex flex-col gap-y-2",children:[e.jsx("p",{children:"No imported skills found"}),e.jsxs("p",{children:["Learn about agent skills in the"," ",e.jsx("a",{href:"https://docs.anythingllm.com/agent/custom/developer-guide",target:"_blank",className:"text-theme-text-secondary underline hover:text-cta-button",children:"AnythingLLM Agent Docs"}),"."]})]}):e.jsx("div",{className:`bg-theme-bg-secondary text-white rounded-xl ${M?"w-full":"min-w-[360px] w-fit"}`,children:t.map((r,i)=>e.jsxs("div",{className:`py-3 px-4 flex items-center justify-between ${i===0?"rounded-t-xl":""} ${i===Object.keys(t).length-1?"rounded-b-xl":"border-b border-white/10"} cursor-pointer transition-all duration-300 hover:bg-theme-bg-primary ${a===r.hubId?"bg-theme-bg-primary":""}`,onClick:()=>l==null?void 0:l({...r,imported:!0}),children:[e.jsx("div",{className:"text-sm font-light",children:Xe(r.name)}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"text-sm text-theme-text-secondary font-medium",children:r.active?"On":"Off"}),e.jsx(ce,{size:14,weight:"bold",className:"text-theme-text-secondary"})]})]},r.hubId))})}function Re(t){var a,l;return!t||((l=(a=t.constructor)==null?void 0:a.call)==null?void 0:l.call(a).toString())!=="[object Object]"?{}:Object.entries(t).reduce((r,[i,s])=>{var o;return{...r,[i]:s.hasOwnProperty("value")?s.value:((o=s==null?void 0:s.input)==null?void 0:o.default)||""}},{})}function ae({selectedSkill:t,setImportedSkills:a}){const[l,r]=c.useState(t),[i,s]=c.useState(!1),[o,x]=c.useState(Re(t==null?void 0:t.setup_args)),g=(t==null?void 0:t.setup_args)&&Object.keys(t.setup_args).length>0;async function j(){const u={...t,active:!l.active};await H.experimentalFeatures.agentPlugins.updatePluginConfig(l.hubId,{active:!l.active}),a(d=>d.map(b=>b.hubId===l.hubId?u:b)),r(u),E(`Skill ${u.active?"activated":"deactivated"}.`,"success",{clear:!0})}async function m(u){u.preventDefault();const d=[],b={...l};for(const[v,y]of Object.entries(o)){const N=l.setup_args[v];if(N.required&&!y){d.push(`${v} is required to have a value.`);continue}if(typeof y!==N.type){d.push(`${v} must be of type ${N.type}.`);continue}b.setup_args[v].value=y}if(d.length>0){d.forEach(v=>E(v,"error"));return}await H.experimentalFeatures.agentPlugins.updatePluginConfig(l.hubId,b),r(b),a(v=>v.map(y=>y.hubId===l.hubId?b:y)),E("Skill config updated successfully.","success"),s(!1)}return c.useEffect(()=>{s(JSON.stringify(o)!==JSON.stringify(Re(t.setup_args)))},[o]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-y-[18px] max-w-[500px]",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(se,{size:24,weight:"bold",className:"text-white"}),e.jsx("label",{htmlFor:"name",className:"text-white text-md font-bold",children:Xe(l.name)}),e.jsxs("label",{className:"border-none relative inline-flex items-center ml-auto cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"peer sr-only",checked:l.active,onChange:()=>j()}),e.jsx("div",{className:"peer-disabled:opacity-50 pointer-events-none peer h-6 w-11 rounded-full bg-[#CFCFD0] after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:shadow-xl after:border-none after:bg-white after:box-shadow-md after:transition-all after:content-[''] peer-checked:bg-[#32D583] peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-transparent"}),e.jsx("span",{className:"ml-3 text-sm font-medium"})]}),e.jsx(qa,{config:l,setImportedSkills:a})]}),e.jsxs("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:[l.description," by"," ",e.jsx("a",{href:l.author_url,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:underline",children:l.author})]}),g?e.jsxs("div",{className:"flex flex-col gap-y-2",children:[Object.entries(l.setup_args).map(([u,d])=>{var b,v,y,N,p;return e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("label",{htmlFor:u,className:"text-white text-sm font-bold",children:u}),e.jsx("input",{type:((b=d==null?void 0:d.input)==null?void 0:b.type)||"text",required:(v=d==null?void 0:d.input)==null?void 0:v.required,defaultValue:d.hasOwnProperty("value")?d.value:((y=d==null?void 0:d.input)==null?void 0:y.default)||"",onChange:F=>x({...o,[u]:F.target.value}),placeholder:((N=d==null?void 0:d.input)==null?void 0:N.placeholder)||"",className:"border-solid bg-transparent border border-white light:border-black rounded-md p-2 text-white text-sm"}),e.jsx("p",{className:"text-white text-opacity-60 text-xs font-medium py-1.5",children:(p=d==null?void 0:d.input)==null?void 0:p.hint})]},u)}),i&&e.jsx("button",{onClick:m,type:"button",className:"bg-blue-500 text-white light:text-white rounded-md p-2",children:"Save"})]}):e.jsx("p",{className:"text-white text-opacity-60 text-sm font-medium py-1.5",children:"There are no options to modify for this skill."})]})})})}function qa({config:t,setImportedSkills:a}){const[l,r]=c.useState(!1),i=c.useRef(null);async function s(){if(!window.confirm("Are you sure you want to delete this skill? This action cannot be undone."))return;await H.experimentalFeatures.agentPlugins.deletePlugin(t.hubId)?(a(x=>x.filter(g=>g.hubId!==t.hubId)),E("Skill deleted successfully.","success"),r(!1)):E("Failed to delete skill.","error")}return c.useEffect(()=>{const o=x=>{i.current&&!i.current.contains(x.target)&&r(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),t.hubId?e.jsxs("div",{className:"relative",ref:i,children:[e.jsx("button",{type:"button",onClick:()=>r(!l),className:"p-1.5 rounded-lg text-white hover:bg-theme-action-menu-item-hover transition-colors duration-300",children:e.jsx(Ke,{className:"h-5 w-5",weight:"bold"})}),l&&e.jsx("div",{className:"absolute w-[100px] -top-1 left-7 mt-1 border-[1.5px] border-white/40 rounded-lg bg-theme-action-menu-bg flex flex-col shadow-[0_4px_14px_rgba(0,0,0,0.25)] text-white z-99 md:z-10",children:e.jsx("button",{type:"button",onClick:s,className:"border-none flex items-center rounded-lg gap-x-2 hover:bg-theme-action-menu-item-hover py-1.5 px-2 transition-colors duration-200 w-full text-left",children:e.jsx("span",{className:"text-sm",children:"Delete Skill"})})})]}):null}function Be({flows:t=[],selectedFlow:a,handleClick:l}){return t.length===0?e.jsxs("div",{className:"text-theme-text-secondary text-center text-xs flex flex-col gap-y-2",children:[e.jsx("p",{children:"No agent flows found"}),e.jsx("a",{href:"https://docs.anythingllm.com/agent-flows/getting-started",target:"_blank",className:"text-theme-text-secondary underline hover:text-cta-button",children:"Learn more about Agent Flows."})]}):e.jsx("div",{className:"bg-theme-bg-secondary text-white rounded-xl min-w-[360px] w-fit",children:t.map((r,i)=>e.jsxs("div",{className:`py-3 px-4 flex items-center justify-between ${i===0?"rounded-t-xl":""} ${i===t.length-1?"rounded-b-xl":"border-b border-white/10"} cursor-pointer transition-all duration-300 hover:bg-theme-bg-primary ${(a==null?void 0:a.uuid)===r.uuid?"bg-white/10 light:bg-theme-bg-sidebar":""}`,onClick:()=>l==null?void 0:l(r),children:[e.jsx("div",{className:"text-sm font-light",children:r.name}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"text-sm text-theme-text-secondary font-medium",children:r.active?"On":"Off"}),e.jsx(ce,{size:14,weight:"bold",className:"text-theme-text-secondary"})]})]},r.uuid))})}function za({flow:t,onDelete:a}){const[l,r]=c.useState(!1),i=c.useRef(null),s=rt();async function o(){if(!window.confirm("Are you sure you want to delete this flow? This action cannot be undone."))return;const{success:x,error:g}=await de.deleteFlow(t.uuid);x?(E("Flow deleted successfully.","success"),a(t.uuid)):E(g||"Failed to delete flow.","error")}return c.useEffect(()=>{const x=g=>{i.current&&!i.current.contains(g.target)&&r(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),e.jsxs("div",{className:"relative",ref:i,children:[e.jsx("button",{type:"button",onClick:()=>r(!l),className:"p-1.5 rounded-lg text-white hover:bg-theme-action-menu-item-hover transition-colors duration-300",children:e.jsx(Ke,{className:"h-5 w-5",weight:"bold"})}),l&&e.jsxs("div",{className:"absolute w-[100px] -top-1 left-7 mt-1 border-[1.5px] border-white/40 rounded-lg bg-theme-action-menu-bg flex flex-col shadow-[0_4px_14px_rgba(0,0,0,0.25)] text-white z-99 md:z-10",children:[e.jsx("button",{type:"button",onClick:()=>s(ne.agents.editAgent(t.uuid)),className:"border-none flex items-center rounded-lg gap-x-2 hover:bg-theme-action-menu-item-hover py-1.5 px-2 transition-colors duration-200 w-full text-left",children:e.jsx("span",{className:"text-sm",children:"Edit Flow"})}),e.jsx("button",{type:"button",onClick:o,className:"border-none flex items-center rounded-lg gap-x-2 hover:bg-theme-action-menu-item-hover py-1.5 px-2 transition-colors duration-200 w-full text-left",children:e.jsx("span",{className:"text-sm",children:"Delete Flow"})})]})]})}function le({flow:t,toggleFlow:a,onDelete:l}){const[r,i]=c.useState(t.active);c.useEffect(()=>{i(t.active)},[t.uuid,t.active]);const s=async()=>{try{const{success:o,error:x}=await de.toggleFlow(t.uuid,!r);if(!o)throw new Error(x);i(!r),a(t.uuid),E("Flow status updated successfully","success",{clear:!0})}catch(o){console.error("Failed to toggle flow:",o),E("Failed to toggle flow","error",{clear:!0})}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-y-[18px] max-w-[500px]",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(X,{size:24,weight:"bold",className:"text-white"}),e.jsx("label",{htmlFor:"name",className:"text-white text-md font-bold",children:t.name}),e.jsxs("label",{className:"border-none relative inline-flex items-center ml-auto cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"peer sr-only",checked:r,onChange:s}),e.jsx("div",{className:"peer-disabled:opacity-50 pointer-events-none peer h-6 w-11 rounded-full bg-[#CFCFD0] after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:shadow-xl after:border-none after:bg-white after:box-shadow-md after:transition-all after:content-[''] peer-checked:bg-[#32D583] peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-transparent"}),e.jsx("span",{className:"ml-3 text-sm font-medium"})]}),e.jsx(za,{flow:t,onDelete:l})]}),e.jsx("p",{className:"whitespace-pre-wrap text-white text-opacity-60 text-xs font-medium py-1.5",children:t.description||"No description provided"})]})})})}function sl(){var fe,ge,be,ve,ye,je,we,Ne,ke,Ae;const t=c.useRef(null),[a,l]=c.useState(!1),[r,i]=c.useState({}),[s,o]=c.useState(""),[x,g]=c.useState(!0),[j,m]=c.useState(!1),[u,d]=c.useState([]),[b,v]=c.useState([]),[y,N]=c.useState([]),[p,F]=c.useState([]),[A,O]=c.useState(null),[R,Y]=c.useState([]);c.useEffect(()=>{const h=f=>{a&&(f.preventDefault(),f.returnValue="")};return window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h)}},[a]),c.useEffect(()=>{async function h(){var _,K,I,$,P,V,D,q;const f=await H.keys(),k=await z.systemPreferencesByFields(["disabled_agent_skills","default_agent_skills","imported_agent_skills","active_agent_flows"]),{flows:S=[]}=await de.listFlows();i({...f,preferences:k.settings}),d((K=(_=k.settings)==null?void 0:_.default_agent_skills)!=null?K:[]),N(($=(I=k.settings)==null?void 0:I.disabled_agent_skills)!=null?$:[]),v((V=(P=k.settings)==null?void 0:P.imported_agent_skills)!=null?V:[]),Y((q=(D=k.settings)==null?void 0:D.active_agent_flows)!=null?q:[]),F(S),g(!1)}h()},[]);const me=h=>{N(f=>{const k=f.includes(h)?f.filter(S=>S!==h):[...f,h];return l(!0),k})},ue=h=>{d(f=>{const k=f.includes(h)?f.filter(S=>S!==h):[...f,h];return l(!0),k})},he=h=>{Y(f=>f.includes(h)?f.filter(S=>S!==h):[...f,h])},B=async h=>{var I,$,P,V,D,q;h.preventDefault();const f={workspace:{},system:{},env:{}},k=new FormData(t.current);for(var[S,_]of k.entries()){if(S.startsWith("system::")){const[J,Z]=S.split("system::");f.system[Z]=String(_);continue}if(S.startsWith("env::")){const[J,Z]=S.split("env::");f.env[Z]=String(_);continue}f.workspace[S]=ht(S,_)}const{success:K}=await z.updateSystemPreferences(f.system);if(await H.updateSystem(f.env),K){const J=await H.keys(),Z=await z.systemPreferencesByFields(["disabled_agent_skills","default_agent_skills","imported_agent_skills"]);i({...J,preferences:Z.settings}),d(($=(I=Z.settings)==null?void 0:I.default_agent_skills)!=null?$:[]),N((V=(P=Z.settings)==null?void 0:P.disabled_agent_skills)!=null?V:[]),v((q=(D=Z.settings)==null?void 0:D.imported_agent_skills)!=null?q:[]),E("Agent preferences saved successfully.","success",{clear:!0})}else E("Agent preferences failed to save.","error",{clear:!0});l(!1)},L=A?le:s!=null&&s.imported?ae:((fe=C[s])==null?void 0:fe.component)||((ge=w[s])==null?void 0:ge.component),T=h=>{O(null),o(h),M&&m(!0)},xe=h=>{o(null),O(h)},pe=h=>{O(null),Y(f=>f.filter(k=>k!==h)),F(f=>f.filter(k=>k.uuid!==h))};return x?e.jsx("div",{style:{height:M?"100%":"calc(100% - 32px)"},className:"relative md:ml-[2px] md:mr-[16px] md:my-[16px] md:rounded-[16px] w-full h-full flex justify-center items-center",children:e.jsx(it,{})}):M?e.jsx(Te,{hasChanges:a,handleCancel:()=>l(!1),handleSubmit:B,children:e.jsxs("form",{onSubmit:B,onChange:()=>!A&&l(!0),ref:t,className:"flex flex-col w-full p-4 mt-10",children:[e.jsx("input",{name:"system::default_agent_skills",type:"hidden",value:u.join(",")}),e.jsx("input",{name:"system::disabled_agent_skills",type:"hidden",value:y.join(",")}),e.jsxs("div",{hidden:j,className:"flex flex-col gap-y-[18px]",children:[e.jsxs("div",{className:"text-theme-text-primary flex items-center gap-x-2",children:[e.jsx(Q,{size:24}),e.jsx("p",{className:"text-lg font-medium",children:"Agent Skills"})]}),e.jsx(W,{skills:w,selectedSkill:s,handleClick:h=>{O(null),o(h),m(!0)},activeSkills:Object.keys(w).filter(h=>!y.includes(h))}),e.jsx(W,{skills:C,selectedSkill:s,handleClick:h=>{O(null),o(h),m(!0)},activeSkills:u}),e.jsxs("div",{className:"text-theme-text-primary flex items-center gap-x-2",children:[e.jsx(se,{size:24}),e.jsx("p",{className:"text-lg font-medium",children:"Custom Skills"})]}),e.jsx(Ge,{skills:b,selectedSkill:s,handleClick:T}),e.jsxs("div",{className:"text-theme-text-primary flex items-center gap-x-2 mt-6",children:[e.jsx(X,{size:24}),e.jsx("p",{className:"text-lg font-medium",children:"Agent Flows"})]}),e.jsx(Be,{flows:p,selectedFlow:A,handleClick:xe}),e.jsx("input",{type:"hidden",name:"system::active_agent_flows",id:"active_agent_flows",value:R.join(",")})]}),j&&e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-sidebar z-30",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center p-4",children:e.jsx("button",{type:"button",onClick:()=>{m(!1),o("")},className:"text-white/60 hover:text-white transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center text-sky-400",children:[e.jsx(dt,{size:24}),e.jsx("div",{children:"Back"})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("div",{className:" bg-theme-bg-secondary text-white rounded-xl p-4",children:L?e.jsx(e.Fragment,{children:A?e.jsx(le,{flow:A,toggleFlow:he,enabled:R.includes(A.uuid),onDelete:pe}):s.imported?e.jsx(ae,{selectedSkill:s,setImportedSkills:v},s.hubId):e.jsx(e.Fragment,{children:w!=null&&w[s]?e.jsx(L,{skill:(be=w[s])==null?void 0:be.skill,settings:r,toggleSkill:me,enabled:!y.includes((ve=w[s])==null?void 0:ve.skill),setHasChanges:l,...w[s]}):e.jsx(L,{skill:(ye=C[s])==null?void 0:ye.skill,settings:r,toggleSkill:ue,enabled:u.includes((je=C[s])==null?void 0:je.skill),setHasChanges:l,...C[s]})})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-theme-text-secondary",children:[e.jsx(Q,{size:40}),e.jsx("p",{className:"font-medium",children:"Select an agent skill or flow"})]})})})]})})]})}):e.jsx(Te,{hasChanges:a,handleCancel:()=>l(!1),handleSubmit:B,children:e.jsxs("form",{onSubmit:B,onChange:()=>!(s!=null&&s.imported)&&!A&&l(!0),ref:t,className:"flex-1 flex gap-x-6 p-4 mt-10",children:[e.jsx("input",{name:"system::default_agent_skills",type:"hidden",value:u.join(",")}),e.jsx("input",{name:"system::disabled_agent_skills",type:"hidden",value:y.join(",")}),e.jsx("input",{type:"hidden",name:"system::active_agent_flows",id:"active_agent_flows",value:R.join(",")}),e.jsxs("div",{className:"flex flex-col min-w-[360px] h-[calc(100vh-90px)]",children:[e.jsx("div",{className:"flex-none mb-4",children:e.jsxs("div",{className:"text-theme-text-primary flex items-center gap-x-2",children:[e.jsx(Q,{size:24}),e.jsx("p",{className:"text-lg font-medium",children:"Agent Skills"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 pb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(W,{skills:w,selectedSkill:s,handleClick:T,activeSkills:Object.keys(w).filter(h=>!y.includes(h))}),e.jsx(W,{skills:C,selectedSkill:s,handleClick:T,activeSkills:u}),e.jsxs("div",{className:"text-theme-text-primary flex items-center gap-x-2 mt-4",children:[e.jsx(se,{size:24}),e.jsx("p",{className:"text-lg font-medium",children:"Custom Skills"})]}),e.jsx(Ge,{skills:b,selectedSkill:s,handleClick:T}),e.jsxs("div",{className:"text-theme-text-primary flex items-center justify-between gap-x-2 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(X,{size:24}),e.jsx("p",{className:"text-lg font-medium",children:"Agent Flows"})]}),p.length===0?e.jsxs(Se,{to:ne.agents.builder(),className:"text-cta-button flex items-center gap-x-1 hover:underline",children:[e.jsx(re,{size:16}),e.jsx("p",{className:"text-sm",children:"Create Flow"})]}):e.jsxs(Se,{to:ne.agents.builder(),className:"text-theme-text-secondary hover:text-cta-button flex items-center gap-x-1",children:[e.jsx(re,{size:16}),e.jsx("p",{className:"text-sm",children:"Open Builder"})]})]}),e.jsx(Be,{flows:p,selectedFlow:A,handleClick:xe})]})})]}),e.jsx("div",{className:"flex-[2] flex flex-col gap-y-[18px] mt-10",children:e.jsx("div",{className:"bg-theme-bg-secondary text-white rounded-xl flex-1 p-4",children:L?e.jsx(e.Fragment,{children:A?e.jsx(le,{flow:A,toggleFlow:he,enabled:R.includes(A.uuid),onDelete:pe}):s.imported?e.jsx(ae,{selectedSkill:s,setImportedSkills:v},s.hubId):e.jsx(e.Fragment,{children:w!=null&&w[s]?e.jsx(L,{skill:(we=w[s])==null?void 0:we.skill,settings:r,toggleSkill:me,enabled:!y.includes((Ne=w[s])==null?void 0:Ne.skill),setHasChanges:l,...w[s]}):e.jsx(L,{skill:(ke=C[s])==null?void 0:ke.skill,settings:r,toggleSkill:ue,enabled:u.includes((Ae=C[s])==null?void 0:Ae.skill),setHasChanges:l,...C[s]})})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-theme-text-secondary",children:[e.jsx(Q,{size:40}),e.jsx("p",{className:"font-medium",children:"Select an agent skill or flow"})]})})})]})})}function Te({children:t,hasChanges:a,handleSubmit:l,handleCancel:r}){return e.jsxs("div",{id:"workspace-agent-settings-container",className:"w-screen h-screen overflow-hidden bg-theme-bg-container flex md:mt-0 mt-6",children:[e.jsx(ct,{}),e.jsxs("div",{style:{height:M?"100%":"calc(100% - 32px)"},className:"relative md:ml-[2px] md:mr-[16px] md:my-[16px] md:rounded-[16px] w-full h-full flex",children:[t,e.jsx(mt,{showing:a,onSave:l,onCancel:r})]})]})}function W({isDefault:t=!1,skills:a=[],selectedSkill:l=null,handleClick:r=null,activeSkills:i=[]}){return a.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`bg-theme-bg-secondary text-white rounded-xl ${M?"w-full":"min-w-[360px] w-fit"}`,children:Object.entries(a).map(([s,o],x)=>e.jsxs("div",{className:`py-3 px-4 flex items-center justify-between ${x===0?"rounded-t-xl":""} ${x===Object.keys(a).length-1?"rounded-b-xl":"border-b border-white/10"} cursor-pointer transition-all duration-300  hover:bg-theme-bg-primary ${l===s?"bg-white/10 light:bg-theme-bg-sidebar":""}`,onClick:()=>r==null?void 0:r(s),children:[e.jsx("div",{className:"text-sm font-light",children:o.title}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[t?e.jsx(Je,{title:s}):e.jsx("div",{className:"text-sm text-theme-text-secondary font-medium",children:i.includes(s)?"On":"Off"}),e.jsx(ce,{size:14,weight:"bold",className:"text-theme-text-secondary"})]})]},s))}),t&&e.jsx(ot,{id:"default-skill",place:"bottom",delayShow:300,className:"tooltip light:invert-0 !text-xs"})]})}export{sl as default};
