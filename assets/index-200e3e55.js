import{j as e,u as w,r as i,a as j,b as M,R as c,i as d,S as b,c as y,F as S,P as N}from"../index.js";import{u as v,S as E,N as F,a as W}from"./index-2e8bbb9a.js";import{U as p}from"./index-800a455d.js";import{A}from"./appearance-c54ccd76.js";import"./index-0f62630d.js";import"./Globe-1f44e45d.js";import"./index-44bf2282.js";/* empty css                 */import"./numbers-3998afe1.js";import"./File-b92df2f3.js";import"./pluralize-b09498b3.js";import"./index-4fb4d421.js";import"./Warning-8bf71f60.js";function I({message:s,type:r,popMsg:o}){var n;const l=r==="user";return e.jsx("div",{className:"flex justify-center items-end w-full bg-theme-bg-secondary",children:e.jsx("div",{className:"py-8 px-4 w-full flex gap-x-5 md:max-w-[80%] flex-col",children:e.jsxs("div",{className:"flex gap-x-5",children:[e.jsx(p,{user:{uid:l?(n=w())==null?void 0:n.username:"system"},role:r}),e.jsx("span",{className:"whitespace-pre-line text-white font-normal text-sm md:text-sm flex flex-col gap-y-1 mt-2",children:s})]})})})}function C(){const{showScrollbar:s}=A.getSettings(),[r,o]=i.useState([]);j();const[l,n]=i.useState([]),{showing:g,showModal:U,hideModal:h}=v(),f=!window.localStorage.getItem("anythingllm_intro");M(),i.useEffect(()=>{(async()=>{const a=await b.getWelcomeMessages();n(a)})()},[]);const m=[e.jsx(c.Fragment,{children:e.jsx(k,{children:e.jsxs(R,{children:[e.jsx(p,{user:{uid:"system"},role:"assistant"}),e.jsx(T,{children:"Welcome to REALTIMEX AI!"})]})})},"msg1")];return i.useEffect(()=>{function t(){if(window.localStorage.getItem("anythingllm_intro"))return o([...m]),!1;o([m[0]]);var a=500,x=[];m.map(u=>{setTimeout(()=>{o([...x,u]),x.push(u)},a),a+=2500}),window.localStorage.setItem("anythingllm_intro",1)}t()},[]),e.jsxs("div",{style:{height:d?"100%":"calc(100% - 32px)"},className:`transition-all duration-500 relative md:ml-[2px] md:mr-[16px] md:my-[16px] md:rounded-[16px] bg-theme-bg-secondary light:border-[1px] light:border-theme-sidebar-border w-full h-full overflow-y-scroll ${s?"show-scrollbar":"no-scroll"}`,children:[d&&e.jsx(E,{}),l.length===0?r.map((t,a)=>e.jsx(c.Fragment,{children:t},a)):l.map((t,a)=>e.jsx(c.Fragment,{children:e.jsx(I,{message:t.user===""?t.response:t.user,type:t.user===""?"response":"user",popMsg:f})},a)),g&&e.jsx(F,{hideModal:h})]})}function k({children:s}){return e.jsx("div",{className:"flex justify-center items-end w-full",children:e.jsx("div",{className:"py-6 px-4 w-full flex gap-x-5 md:max-w-[80%] flex-col",children:s})})}function R({children:s}){return e.jsx("div",{className:"flex gap-x-5",children:s})}function T({children:s}){return e.jsx("span",{className:"text-white/80 light:text-theme-text-primary font-light text-[14px] flex flex-col gap-y-1 mt-2",children:s})}function O(){const{loading:s,requiresAuth:r,mode:o}=y();return s?e.jsx(S,{}):r!==!1?e.jsx(e.Fragment,{children:r!==null&&e.jsx(N,{mode:o})}):e.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-theme-bg-container flex",children:[!d&&e.jsx(W,{}),e.jsx(C,{})]})}export{O as default};
